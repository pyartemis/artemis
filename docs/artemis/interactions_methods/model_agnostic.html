<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.0"/>
    <title>artemis.interactions_methods.model_agnostic API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../interactions_methods.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;artemis.interactions_methods</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#FriedmanHStatisticMethod">FriedmanHStatisticMethod</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FriedmanHStatisticMethod.__init__">FriedmanHStatisticMethod</a>
                        </li>
                        <li>
                                <a class="function" href="#FriedmanHStatisticMethod.fit">fit</a>
                        </li>
                        <li>
                                <a class="function" href="#FriedmanHStatisticMethod.plot">plot</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#GreenwellMethod">GreenwellMethod</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#GreenwellMethod.__init__">GreenwellMethod</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SejongOhMethod">SejongOhMethod</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SejongOhMethod.__init__">SejongOhMethod</a>
                        </li>
                        <li>
                                <a class="function" href="#SejongOhMethod.fit">fit</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../artemis.html">artemis</a><wbr>.<a href="./../interactions_methods.html">interactions_methods</a><wbr>.model_agnostic    </h1>

                
                        <input id="mod-model_agnostic-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-model_agnostic-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">1</span></a><span class="kn">from</span> <span class="nn">.partial_dependence_based</span> <span class="kn">import</span> <span class="n">FriedmanHStatisticMethod</span><span class="p">,</span> <span class="n">GreenwellMethod</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">2</span></a><span class="kn">from</span> <span class="nn">.performance_based</span> <span class="kn">import</span> <span class="n">SejongOhMethod</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">4</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;FriedmanHStatisticMethod&quot;</span><span class="p">,</span> <span class="s2">&quot;GreenwellMethod&quot;</span><span class="p">,</span> <span class="s2">&quot;SejongOhMethod&quot;</span><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="FriedmanHStatisticMethod">
                            <input id="FriedmanHStatisticMethod-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FriedmanHStatisticMethod</span><wbr>(<span class="base">artemis.interactions_methods.model_agnostic.partial_dependence_based._pdp.PartialDependenceBasedMethod</span>):

                <label class="view-source-button" for="FriedmanHStatisticMethod-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FriedmanHStatisticMethod"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FriedmanHStatisticMethod-14"><a href="#FriedmanHStatisticMethod-14"><span class="linenos"> 14</span></a><span class="k">class</span> <span class="nc">FriedmanHStatisticMethod</span><span class="p">(</span><span class="n">PartialDependenceBasedMethod</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod-15"><a href="#FriedmanHStatisticMethod-15"><span class="linenos"> 15</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-16"><a href="#FriedmanHStatisticMethod-16"><span class="linenos"> 16</span></a><span class="sd">    Friedman&#39;s H-statistic Method for Feature Interaction Extraction. </span>
</span><span id="FriedmanHStatisticMethod-17"><a href="#FriedmanHStatisticMethod-17"><span class="linenos"> 17</span></a><span class="sd">    </span>
</span><span id="FriedmanHStatisticMethod-18"><a href="#FriedmanHStatisticMethod-18"><span class="linenos"> 18</span></a><span class="sd">    Uses partial dependence values to calculate feature interaction strengths and feature importance. </span>
</span><span id="FriedmanHStatisticMethod-19"><a href="#FriedmanHStatisticMethod-19"><span class="linenos"> 19</span></a>
</span><span id="FriedmanHStatisticMethod-20"><a href="#FriedmanHStatisticMethod-20"><span class="linenos"> 20</span></a><span class="sd">    Attributes</span>
</span><span id="FriedmanHStatisticMethod-21"><a href="#FriedmanHStatisticMethod-21"><span class="linenos"> 21</span></a><span class="sd">    ----------</span>
</span><span id="FriedmanHStatisticMethod-22"><a href="#FriedmanHStatisticMethod-22"><span class="linenos"> 22</span></a><span class="sd">    method : str </span>
</span><span id="FriedmanHStatisticMethod-23"><a href="#FriedmanHStatisticMethod-23"><span class="linenos"> 23</span></a><span class="sd">        Method name, used also for naming column with results in `ovo` pd.DataFrame.</span>
</span><span id="FriedmanHStatisticMethod-24"><a href="#FriedmanHStatisticMethod-24"><span class="linenos"> 24</span></a><span class="sd">    visualizer : Visualizer</span>
</span><span id="FriedmanHStatisticMethod-25"><a href="#FriedmanHStatisticMethod-25"><span class="linenos"> 25</span></a><span class="sd">        Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</span>
</span><span id="FriedmanHStatisticMethod-26"><a href="#FriedmanHStatisticMethod-26"><span class="linenos"> 26</span></a><span class="sd">    ovo : pd.DataFrame </span>
</span><span id="FriedmanHStatisticMethod-27"><a href="#FriedmanHStatisticMethod-27"><span class="linenos"> 27</span></a><span class="sd">        One versus one (pair) feature interaction values. </span>
</span><span id="FriedmanHStatisticMethod-28"><a href="#FriedmanHStatisticMethod-28"><span class="linenos"> 28</span></a><span class="sd">    feature_importance : pd.DataFrame </span>
</span><span id="FriedmanHStatisticMethod-29"><a href="#FriedmanHStatisticMethod-29"><span class="linenos"> 29</span></a><span class="sd">        Feature importance values.</span>
</span><span id="FriedmanHStatisticMethod-30"><a href="#FriedmanHStatisticMethod-30"><span class="linenos"> 30</span></a><span class="sd">    ova : pd.DataFrame</span>
</span><span id="FriedmanHStatisticMethod-31"><a href="#FriedmanHStatisticMethod-31"><span class="linenos"> 31</span></a><span class="sd">        One vs all feature interaction values.</span>
</span><span id="FriedmanHStatisticMethod-32"><a href="#FriedmanHStatisticMethod-32"><span class="linenos"> 32</span></a><span class="sd">    normalized : bool </span>
</span><span id="FriedmanHStatisticMethod-33"><a href="#FriedmanHStatisticMethod-33"><span class="linenos"> 33</span></a><span class="sd">        Flag determining whether interaction values are normalized.</span>
</span><span id="FriedmanHStatisticMethod-34"><a href="#FriedmanHStatisticMethod-34"><span class="linenos"> 34</span></a><span class="sd">        Unnrormalized version is proposed in https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935</span>
</span><span id="FriedmanHStatisticMethod-35"><a href="#FriedmanHStatisticMethod-35"><span class="linenos"> 35</span></a><span class="sd">    model : object</span>
</span><span id="FriedmanHStatisticMethod-36"><a href="#FriedmanHStatisticMethod-36"><span class="linenos"> 36</span></a><span class="sd">        Explained model.</span>
</span><span id="FriedmanHStatisticMethod-37"><a href="#FriedmanHStatisticMethod-37"><span class="linenos"> 37</span></a><span class="sd">    X_sampled: pd.DataFrame</span>
</span><span id="FriedmanHStatisticMethod-38"><a href="#FriedmanHStatisticMethod-38"><span class="linenos"> 38</span></a><span class="sd">        Sampled data used for calculation.</span>
</span><span id="FriedmanHStatisticMethod-39"><a href="#FriedmanHStatisticMethod-39"><span class="linenos"> 39</span></a><span class="sd">    features_included: List[str]</span>
</span><span id="FriedmanHStatisticMethod-40"><a href="#FriedmanHStatisticMethod-40"><span class="linenos"> 40</span></a><span class="sd">        List of features for which interactions are calculated.</span>
</span><span id="FriedmanHStatisticMethod-41"><a href="#FriedmanHStatisticMethod-41"><span class="linenos"> 41</span></a><span class="sd">    pairs : List[List[str]]</span>
</span><span id="FriedmanHStatisticMethod-42"><a href="#FriedmanHStatisticMethod-42"><span class="linenos"> 42</span></a><span class="sd">        List of pairs of features for which interactions are calculated.</span>
</span><span id="FriedmanHStatisticMethod-43"><a href="#FriedmanHStatisticMethod-43"><span class="linenos"> 43</span></a><span class="sd">    pd_calculator : PartialDependenceCalculator</span>
</span><span id="FriedmanHStatisticMethod-44"><a href="#FriedmanHStatisticMethod-44"><span class="linenos"> 44</span></a><span class="sd">        Object used to calculate and store partial dependence values.</span>
</span><span id="FriedmanHStatisticMethod-45"><a href="#FriedmanHStatisticMethod-45"><span class="linenos"> 45</span></a><span class="sd">    batchsize : int</span>
</span><span id="FriedmanHStatisticMethod-46"><a href="#FriedmanHStatisticMethod-46"><span class="linenos"> 46</span></a><span class="sd">        Batch size used for calculation.</span>
</span><span id="FriedmanHStatisticMethod-47"><a href="#FriedmanHStatisticMethod-47"><span class="linenos"> 47</span></a>
</span><span id="FriedmanHStatisticMethod-48"><a href="#FriedmanHStatisticMethod-48"><span class="linenos"> 48</span></a><span class="sd">    References</span>
</span><span id="FriedmanHStatisticMethod-49"><a href="#FriedmanHStatisticMethod-49"><span class="linenos"> 49</span></a><span class="sd">    ----------</span>
</span><span id="FriedmanHStatisticMethod-50"><a href="#FriedmanHStatisticMethod-50"><span class="linenos"> 50</span></a><span class="sd">    - https://www.jstor.org/stable/pdf/30245114.pdf</span>
</span><span id="FriedmanHStatisticMethod-51"><a href="#FriedmanHStatisticMethod-51"><span class="linenos"> 51</span></a><span class="sd">    - https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935</span>
</span><span id="FriedmanHStatisticMethod-52"><a href="#FriedmanHStatisticMethod-52"><span class="linenos"> 52</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-53"><a href="#FriedmanHStatisticMethod-53"><span class="linenos"> 53</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">normalized</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod-54"><a href="#FriedmanHStatisticMethod-54"><span class="linenos"> 54</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for FriedmanHStatisticMethod</span>
</span><span id="FriedmanHStatisticMethod-55"><a href="#FriedmanHStatisticMethod-55"><span class="linenos"> 55</span></a>
</span><span id="FriedmanHStatisticMethod-56"><a href="#FriedmanHStatisticMethod-56"><span class="linenos"> 56</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod-57"><a href="#FriedmanHStatisticMethod-57"><span class="linenos"> 57</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod-58"><a href="#FriedmanHStatisticMethod-58"><span class="linenos"> 58</span></a><span class="sd">        random_state : int, optional</span>
</span><span id="FriedmanHStatisticMethod-59"><a href="#FriedmanHStatisticMethod-59"><span class="linenos"> 59</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="FriedmanHStatisticMethod-60"><a href="#FriedmanHStatisticMethod-60"><span class="linenos"> 60</span></a><span class="sd">        normalized : bool, optional </span>
</span><span id="FriedmanHStatisticMethod-61"><a href="#FriedmanHStatisticMethod-61"><span class="linenos"> 61</span></a><span class="sd">            Flag determining whether to normalize the interaction values. Normalized version is original H-statistic, </span>
</span><span id="FriedmanHStatisticMethod-62"><a href="#FriedmanHStatisticMethod-62"><span class="linenos"> 62</span></a><span class="sd">            unnrormalized version is square root of nominator of H statistic. Defaults to True which translates to original H-statistic.</span>
</span><span id="FriedmanHStatisticMethod-63"><a href="#FriedmanHStatisticMethod-63"><span class="linenos"> 63</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-64"><a href="#FriedmanHStatisticMethod-64"><span class="linenos"> 64</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">H_STATISTIC</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-65"><a href="#FriedmanHStatisticMethod-65"><span class="linenos"> 65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FriedmanHStatisticMethod-66"><a href="#FriedmanHStatisticMethod-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normalized</span> <span class="o">=</span> <span class="n">normalized</span>
</span><span id="FriedmanHStatisticMethod-67"><a href="#FriedmanHStatisticMethod-67"><span class="linenos"> 67</span></a>
</span><span id="FriedmanHStatisticMethod-68"><a href="#FriedmanHStatisticMethod-68"><span class="linenos"> 68</span></a>    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-69"><a href="#FriedmanHStatisticMethod-69"><span class="linenos"> 69</span></a>            <span class="n">model</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-70"><a href="#FriedmanHStatisticMethod-70"><span class="linenos"> 70</span></a>            <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-71"><a href="#FriedmanHStatisticMethod-71"><span class="linenos"> 71</span></a>            <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-72"><a href="#FriedmanHStatisticMethod-72"><span class="linenos"> 72</span></a>            <span class="n">predict_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-73"><a href="#FriedmanHStatisticMethod-73"><span class="linenos"> 73</span></a>            <span class="n">features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-74"><a href="#FriedmanHStatisticMethod-74"><span class="linenos"> 74</span></a>            <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-75"><a href="#FriedmanHStatisticMethod-75"><span class="linenos"> 75</span></a>            <span class="n">batchsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-76"><a href="#FriedmanHStatisticMethod-76"><span class="linenos"> 76</span></a>            <span class="n">pd_calculator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PartialDependenceCalculator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-77"><a href="#FriedmanHStatisticMethod-77"><span class="linenos"> 77</span></a>            <span class="n">calculate_ova</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod-78"><a href="#FriedmanHStatisticMethod-78"><span class="linenos"> 78</span></a>        <span class="sd">&quot;&quot;&quot;Calculates H-statistic Feature Interactions Strength and Feature Importance for the given model. </span>
</span><span id="FriedmanHStatisticMethod-79"><a href="#FriedmanHStatisticMethod-79"><span class="linenos"> 79</span></a><span class="sd">        Despite pair interactions, this method can also calculate one vs all interactions.</span>
</span><span id="FriedmanHStatisticMethod-80"><a href="#FriedmanHStatisticMethod-80"><span class="linenos"> 80</span></a>
</span><span id="FriedmanHStatisticMethod-81"><a href="#FriedmanHStatisticMethod-81"><span class="linenos"> 81</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod-82"><a href="#FriedmanHStatisticMethod-82"><span class="linenos"> 82</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod-83"><a href="#FriedmanHStatisticMethod-83"><span class="linenos"> 83</span></a><span class="sd">        model : object</span>
</span><span id="FriedmanHStatisticMethod-84"><a href="#FriedmanHStatisticMethod-84"><span class="linenos"> 84</span></a><span class="sd">            Model to be explained, should have predict_proba or predict method, or predict_function should be provided. </span>
</span><span id="FriedmanHStatisticMethod-85"><a href="#FriedmanHStatisticMethod-85"><span class="linenos"> 85</span></a><span class="sd">        X : pd.DataFrame</span>
</span><span id="FriedmanHStatisticMethod-86"><a href="#FriedmanHStatisticMethod-86"><span class="linenos"> 86</span></a><span class="sd">            Data used to calculate interactions. If n is not None, n rows from X will be sampled. </span>
</span><span id="FriedmanHStatisticMethod-87"><a href="#FriedmanHStatisticMethod-87"><span class="linenos"> 87</span></a><span class="sd">        n : int, optional</span>
</span><span id="FriedmanHStatisticMethod-88"><a href="#FriedmanHStatisticMethod-88"><span class="linenos"> 88</span></a><span class="sd">            Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</span>
</span><span id="FriedmanHStatisticMethod-89"><a href="#FriedmanHStatisticMethod-89"><span class="linenos"> 89</span></a><span class="sd">        predict_function : Callable, optional</span>
</span><span id="FriedmanHStatisticMethod-90"><a href="#FriedmanHStatisticMethod-90"><span class="linenos"> 90</span></a><span class="sd">            Function used to predict model output. It should take model and dataset and outputs predictions. </span>
</span><span id="FriedmanHStatisticMethod-91"><a href="#FriedmanHStatisticMethod-91"><span class="linenos"> 91</span></a><span class="sd">            If None, `predict_proba` method will be used if it exists, otherwise `predict` method. Default is None.</span>
</span><span id="FriedmanHStatisticMethod-92"><a href="#FriedmanHStatisticMethod-92"><span class="linenos"> 92</span></a><span class="sd">        features : List[str], optional</span>
</span><span id="FriedmanHStatisticMethod-93"><a href="#FriedmanHStatisticMethod-93"><span class="linenos"> 93</span></a><span class="sd">            List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</span>
</span><span id="FriedmanHStatisticMethod-94"><a href="#FriedmanHStatisticMethod-94"><span class="linenos"> 94</span></a><span class="sd">        show_progress : bool</span>
</span><span id="FriedmanHStatisticMethod-95"><a href="#FriedmanHStatisticMethod-95"><span class="linenos"> 95</span></a><span class="sd">            If True, progress bar will be shown. Default is False.</span>
</span><span id="FriedmanHStatisticMethod-96"><a href="#FriedmanHStatisticMethod-96"><span class="linenos"> 96</span></a><span class="sd">        batchsize : int</span>
</span><span id="FriedmanHStatisticMethod-97"><a href="#FriedmanHStatisticMethod-97"><span class="linenos"> 97</span></a><span class="sd">            Batch size for calculating partial dependence. Prediction requests are collected until the batchsize is exceeded, </span>
</span><span id="FriedmanHStatisticMethod-98"><a href="#FriedmanHStatisticMethod-98"><span class="linenos"> 98</span></a><span class="sd">            then the model is queried for predictions jointly for many observations. It speeds up the operation of the method.</span>
</span><span id="FriedmanHStatisticMethod-99"><a href="#FriedmanHStatisticMethod-99"><span class="linenos"> 99</span></a><span class="sd">            Default is 2000.</span>
</span><span id="FriedmanHStatisticMethod-100"><a href="#FriedmanHStatisticMethod-100"><span class="linenos">100</span></a><span class="sd">        pd_calculator : PartialDependenceCalculator, optional</span>
</span><span id="FriedmanHStatisticMethod-101"><a href="#FriedmanHStatisticMethod-101"><span class="linenos">101</span></a><span class="sd">            PartialDependenceCalculator object containing partial dependence values for a given model and dataset. </span>
</span><span id="FriedmanHStatisticMethod-102"><a href="#FriedmanHStatisticMethod-102"><span class="linenos">102</span></a><span class="sd">            Providing this object speeds up the calculation as partial dependence values do not need to be recalculated.</span>
</span><span id="FriedmanHStatisticMethod-103"><a href="#FriedmanHStatisticMethod-103"><span class="linenos">103</span></a><span class="sd">            If None, it will be created from scratch. Default is None.</span>
</span><span id="FriedmanHStatisticMethod-104"><a href="#FriedmanHStatisticMethod-104"><span class="linenos">104</span></a><span class="sd">        calculate_ova : bool</span>
</span><span id="FriedmanHStatisticMethod-105"><a href="#FriedmanHStatisticMethod-105"><span class="linenos">105</span></a><span class="sd">            If True, one vs all interactions will be calculated. Default is True.</span>
</span><span id="FriedmanHStatisticMethod-106"><a href="#FriedmanHStatisticMethod-106"><span class="linenos">106</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-107"><a href="#FriedmanHStatisticMethod-107"><span class="linenos">107</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">predict_function</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">,</span> <span class="n">batchsize</span><span class="p">,</span> <span class="n">pd_calculator</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-108"><a href="#FriedmanHStatisticMethod-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="n">calculate_ova</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod-109"><a href="#FriedmanHStatisticMethod-109"><span class="linenos">109</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_ova_interactions_from_pd</span><span class="p">(</span><span class="n">show_progress</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-110"><a href="#FriedmanHStatisticMethod-110"><span class="linenos">110</span></a>
</span><span id="FriedmanHStatisticMethod-111"><a href="#FriedmanHStatisticMethod-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vis_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">HEATMAP</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod-112"><a href="#FriedmanHStatisticMethod-112"><span class="linenos">112</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-113"><a href="#FriedmanHStatisticMethod-113"><span class="linenos">113</span></a><span class="sd">        Plot results of explanations.</span>
</span><span id="FriedmanHStatisticMethod-114"><a href="#FriedmanHStatisticMethod-114"><span class="linenos">114</span></a>
</span><span id="FriedmanHStatisticMethod-115"><a href="#FriedmanHStatisticMethod-115"><span class="linenos">115</span></a><span class="sd">        There are five types of plots available:</span>
</span><span id="FriedmanHStatisticMethod-116"><a href="#FriedmanHStatisticMethod-116"><span class="linenos">116</span></a><span class="sd">        - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)</span>
</span><span id="FriedmanHStatisticMethod-117"><a href="#FriedmanHStatisticMethod-117"><span class="linenos">117</span></a><span class="sd">        - bar_chart - bar chart of top feature interactions values</span>
</span><span id="FriedmanHStatisticMethod-118"><a href="#FriedmanHStatisticMethod-118"><span class="linenos">118</span></a><span class="sd">        - graph - graph of feature interactions values</span>
</span><span id="FriedmanHStatisticMethod-119"><a href="#FriedmanHStatisticMethod-119"><span class="linenos">119</span></a><span class="sd">        - bar_chart_ova - bar chart of top one vs all interactions values</span>
</span><span id="FriedmanHStatisticMethod-120"><a href="#FriedmanHStatisticMethod-120"><span class="linenos">120</span></a><span class="sd">        - summary - combination of other plots </span>
</span><span id="FriedmanHStatisticMethod-121"><a href="#FriedmanHStatisticMethod-121"><span class="linenos">121</span></a><span class="sd">        </span>
</span><span id="FriedmanHStatisticMethod-122"><a href="#FriedmanHStatisticMethod-122"><span class="linenos">122</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod-123"><a href="#FriedmanHStatisticMethod-123"><span class="linenos">123</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod-124"><a href="#FriedmanHStatisticMethod-124"><span class="linenos">124</span></a><span class="sd">        vis_type : str </span>
</span><span id="FriedmanHStatisticMethod-125"><a href="#FriedmanHStatisticMethod-125"><span class="linenos">125</span></a><span class="sd">            Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;bar_chart_ova&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.</span>
</span><span id="FriedmanHStatisticMethod-126"><a href="#FriedmanHStatisticMethod-126"><span class="linenos">126</span></a><span class="sd">        title : str </span>
</span><span id="FriedmanHStatisticMethod-127"><a href="#FriedmanHStatisticMethod-127"><span class="linenos">127</span></a><span class="sd">            Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.</span>
</span><span id="FriedmanHStatisticMethod-128"><a href="#FriedmanHStatisticMethod-128"><span class="linenos">128</span></a><span class="sd">        figsize : (float, float) </span>
</span><span id="FriedmanHStatisticMethod-129"><a href="#FriedmanHStatisticMethod-129"><span class="linenos">129</span></a><span class="sd">            Size of plot. Default is (8, 6).</span>
</span><span id="FriedmanHStatisticMethod-130"><a href="#FriedmanHStatisticMethod-130"><span class="linenos">130</span></a><span class="sd">        show : bool </span>
</span><span id="FriedmanHStatisticMethod-131"><a href="#FriedmanHStatisticMethod-131"><span class="linenos">131</span></a><span class="sd">            Whether to show plot. Default is True.</span>
</span><span id="FriedmanHStatisticMethod-132"><a href="#FriedmanHStatisticMethod-132"><span class="linenos">132</span></a><span class="sd">        **kwargs : Other Parameters</span>
</span><span id="FriedmanHStatisticMethod-133"><a href="#FriedmanHStatisticMethod-133"><span class="linenos">133</span></a><span class="sd">            Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. </span>
</span><span id="FriedmanHStatisticMethod-134"><a href="#FriedmanHStatisticMethod-134"><span class="linenos">134</span></a><span class="sd">            For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. </span>
</span><span id="FriedmanHStatisticMethod-135"><a href="#FriedmanHStatisticMethod-135"><span class="linenos">135</span></a><span class="sd">            See key parameters below. </span>
</span><span id="FriedmanHStatisticMethod-136"><a href="#FriedmanHStatisticMethod-136"><span class="linenos">136</span></a>
</span><span id="FriedmanHStatisticMethod-137"><a href="#FriedmanHStatisticMethod-137"><span class="linenos">137</span></a><span class="sd">        Other Parameters</span>
</span><span id="FriedmanHStatisticMethod-138"><a href="#FriedmanHStatisticMethod-138"><span class="linenos">138</span></a><span class="sd">        ------------------------</span>
</span><span id="FriedmanHStatisticMethod-139"><a href="#FriedmanHStatisticMethod-139"><span class="linenos">139</span></a><span class="sd">        interaction_color_map : matplotlib colormap name or object, or list of colors</span>
</span><span id="FriedmanHStatisticMethod-140"><a href="#FriedmanHStatisticMethod-140"><span class="linenos">140</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,</span>
</span><span id="FriedmanHStatisticMethod-141"><a href="#FriedmanHStatisticMethod-141"><span class="linenos">141</span></a><span class="sd">            depending on whether a greater value means a greater interaction strength or vice versa.</span>
</span><span id="FriedmanHStatisticMethod-142"><a href="#FriedmanHStatisticMethod-142"><span class="linenos">142</span></a><span class="sd">        importance_color_map :  matplotlib colormap name or object, or list of colors</span>
</span><span id="FriedmanHStatisticMethod-143"><a href="#FriedmanHStatisticMethod-143"><span class="linenos">143</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,</span>
</span><span id="FriedmanHStatisticMethod-144"><a href="#FriedmanHStatisticMethod-144"><span class="linenos">144</span></a><span class="sd">            depending on whether a greater value means a greater interaction strength or vice versa.</span>
</span><span id="FriedmanHStatisticMethod-145"><a href="#FriedmanHStatisticMethod-145"><span class="linenos">145</span></a><span class="sd">        annot_fmt : str</span>
</span><span id="FriedmanHStatisticMethod-146"><a href="#FriedmanHStatisticMethod-146"><span class="linenos">146</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.</span>
</span><span id="FriedmanHStatisticMethod-147"><a href="#FriedmanHStatisticMethod-147"><span class="linenos">147</span></a><span class="sd">        linewidths : float</span>
</span><span id="FriedmanHStatisticMethod-148"><a href="#FriedmanHStatisticMethod-148"><span class="linenos">148</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.</span>
</span><span id="FriedmanHStatisticMethod-149"><a href="#FriedmanHStatisticMethod-149"><span class="linenos">149</span></a><span class="sd">        linecolor : str</span>
</span><span id="FriedmanHStatisticMethod-150"><a href="#FriedmanHStatisticMethod-150"><span class="linenos">150</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.</span>
</span><span id="FriedmanHStatisticMethod-151"><a href="#FriedmanHStatisticMethod-151"><span class="linenos">151</span></a><span class="sd">        cbar_shrink : float</span>
</span><span id="FriedmanHStatisticMethod-152"><a href="#FriedmanHStatisticMethod-152"><span class="linenos">152</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. </span>
</span><span id="FriedmanHStatisticMethod-153"><a href="#FriedmanHStatisticMethod-153"><span class="linenos">153</span></a><span class="sd">    </span>
</span><span id="FriedmanHStatisticMethod-154"><a href="#FriedmanHStatisticMethod-154"><span class="linenos">154</span></a><span class="sd">        top_k : int </span>
</span><span id="FriedmanHStatisticMethod-155"><a href="#FriedmanHStatisticMethod-155"><span class="linenos">155</span></a><span class="sd">            Used for &#39;bar_chart&#39; and &#39;bar_chart_ova&#39; visualizations. Maximum number of pairs that will be presented in plot. Default is 10.</span>
</span><span id="FriedmanHStatisticMethod-156"><a href="#FriedmanHStatisticMethod-156"><span class="linenos">156</span></a><span class="sd">        color : str </span>
</span><span id="FriedmanHStatisticMethod-157"><a href="#FriedmanHStatisticMethod-157"><span class="linenos">157</span></a><span class="sd">            Used for &#39;bar_chart&#39; and &#39;bar_chart_ova&#39; visualizations. Color of bars. Default is &#39;mediumpurple&#39;.</span>
</span><span id="FriedmanHStatisticMethod-158"><a href="#FriedmanHStatisticMethod-158"><span class="linenos">158</span></a>
</span><span id="FriedmanHStatisticMethod-159"><a href="#FriedmanHStatisticMethod-159"><span class="linenos">159</span></a><span class="sd">        n_highest_with_labels : int </span>
</span><span id="FriedmanHStatisticMethod-160"><a href="#FriedmanHStatisticMethod-160"><span class="linenos">160</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is 5. </span>
</span><span id="FriedmanHStatisticMethod-161"><a href="#FriedmanHStatisticMethod-161"><span class="linenos">161</span></a><span class="sd">        edge_color: str </span>
</span><span id="FriedmanHStatisticMethod-162"><a href="#FriedmanHStatisticMethod-162"><span class="linenos">162</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;rebeccapurple. </span>
</span><span id="FriedmanHStatisticMethod-163"><a href="#FriedmanHStatisticMethod-163"><span class="linenos">163</span></a><span class="sd">        node_color: str</span>
</span><span id="FriedmanHStatisticMethod-164"><a href="#FriedmanHStatisticMethod-164"><span class="linenos">164</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;green&#39;. </span>
</span><span id="FriedmanHStatisticMethod-165"><a href="#FriedmanHStatisticMethod-165"><span class="linenos">165</span></a><span class="sd">        node_size: int</span>
</span><span id="FriedmanHStatisticMethod-166"><a href="#FriedmanHStatisticMethod-166"><span class="linenos">166</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;1800&#39;. </span>
</span><span id="FriedmanHStatisticMethod-167"><a href="#FriedmanHStatisticMethod-167"><span class="linenos">167</span></a><span class="sd">        font_color: str</span>
</span><span id="FriedmanHStatisticMethod-168"><a href="#FriedmanHStatisticMethod-168"><span class="linenos">168</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;#3B1F2B&#39;. </span>
</span><span id="FriedmanHStatisticMethod-169"><a href="#FriedmanHStatisticMethod-169"><span class="linenos">169</span></a><span class="sd">        font_weight: str </span>
</span><span id="FriedmanHStatisticMethod-170"><a href="#FriedmanHStatisticMethod-170"><span class="linenos">170</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;bold&#39;. </span>
</span><span id="FriedmanHStatisticMethod-171"><a href="#FriedmanHStatisticMethod-171"><span class="linenos">171</span></a><span class="sd">        font_size: int </span>
</span><span id="FriedmanHStatisticMethod-172"><a href="#FriedmanHStatisticMethod-172"><span class="linenos">172</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is 10. </span>
</span><span id="FriedmanHStatisticMethod-173"><a href="#FriedmanHStatisticMethod-173"><span class="linenos">173</span></a><span class="sd">        threshold_relevant_interaction : float</span>
</span><span id="FriedmanHStatisticMethod-174"><a href="#FriedmanHStatisticMethod-174"><span class="linenos">174</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default depends on the interaction method. </span>
</span><span id="FriedmanHStatisticMethod-175"><a href="#FriedmanHStatisticMethod-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod-176"><a href="#FriedmanHStatisticMethod-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod-177"><a href="#FriedmanHStatisticMethod-177"><span class="linenos">177</span></a>            <span class="k">raise</span> <span class="n">MethodNotFittedException</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-178"><a href="#FriedmanHStatisticMethod-178"><span class="linenos">178</span></a>
</span><span id="FriedmanHStatisticMethod-179"><a href="#FriedmanHStatisticMethod-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">visualizer</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ovo</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-180"><a href="#FriedmanHStatisticMethod-180"><span class="linenos">180</span></a>                             <span class="n">vis_type</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-181"><a href="#FriedmanHStatisticMethod-181"><span class="linenos">181</span></a>                             <span class="bp">self</span><span class="o">.</span><span class="n">ova</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-182"><a href="#FriedmanHStatisticMethod-182"><span class="linenos">182</span></a>                             <span class="n">feature_importance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feature_importance</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-183"><a href="#FriedmanHStatisticMethod-183"><span class="linenos">183</span></a>                             <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-184"><a href="#FriedmanHStatisticMethod-184"><span class="linenos">184</span></a>                             <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-185"><a href="#FriedmanHStatisticMethod-185"><span class="linenos">185</span></a>                             <span class="n">show</span><span class="o">=</span><span class="n">show</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-186"><a href="#FriedmanHStatisticMethod-186"><span class="linenos">186</span></a>                             <span class="n">interactions_ascending_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interactions_ascending_order</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-187"><a href="#FriedmanHStatisticMethod-187"><span class="linenos">187</span></a>                             <span class="n">importance_ascending_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span><span class="o">.</span><span class="n">importance_ascending_order</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod-188"><a href="#FriedmanHStatisticMethod-188"><span class="linenos">188</span></a>                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-189"><a href="#FriedmanHStatisticMethod-189"><span class="linenos">189</span></a>
</span><span id="FriedmanHStatisticMethod-190"><a href="#FriedmanHStatisticMethod-190"><span class="linenos">190</span></a>    <span class="k">def</span> <span class="nf">_calculate_ova_interactions_from_pd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod-191"><a href="#FriedmanHStatisticMethod-191"><span class="linenos">191</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">calculate_pd_minus_single</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-192"><a href="#FriedmanHStatisticMethod-192"><span class="linenos">192</span></a>        <span class="n">preds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-193"><a href="#FriedmanHStatisticMethod-193"><span class="linenos">193</span></a>        <span class="n">value_minus_single</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FriedmanHStatisticMethod-194"><a href="#FriedmanHStatisticMethod-194"><span class="linenos">194</span></a>        <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod-195"><a href="#FriedmanHStatisticMethod-195"><span class="linenos">195</span></a>            <span class="n">pd_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_single</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">feature_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-196"><a href="#FriedmanHStatisticMethod-196"><span class="linenos">196</span></a>            <span class="n">pd_f_minus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_minus_single</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-197"><a href="#FriedmanHStatisticMethod-197"><span class="linenos">197</span></a>            <span class="n">value_minus_single</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">feature</span><span class="p">,</span> <span class="n">_calculate_hstat_value</span><span class="p">(</span><span class="n">pd_f</span><span class="p">,</span> <span class="n">pd_f_minus</span><span class="p">,</span> <span class="n">preds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normalized</span><span class="p">)])</span>
</span><span id="FriedmanHStatisticMethod-198"><a href="#FriedmanHStatisticMethod-198"><span class="linenos">198</span></a>        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">value_minus_single</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="n">InteractionMethod</span><span class="o">.</span><span class="n">H_STATISTIC</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
</span><span id="FriedmanHStatisticMethod-199"><a href="#FriedmanHStatisticMethod-199"><span class="linenos">199</span></a>            <span class="n">by</span><span class="o">=</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">H_STATISTIC</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interactions_ascending_order</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span>
</span><span id="FriedmanHStatisticMethod-200"><a href="#FriedmanHStatisticMethod-200"><span class="linenos">200</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-201"><a href="#FriedmanHStatisticMethod-201"><span class="linenos">201</span></a>
</span><span id="FriedmanHStatisticMethod-202"><a href="#FriedmanHStatisticMethod-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">_calculate_ovo_interactions_from_pd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod-203"><a href="#FriedmanHStatisticMethod-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">calculate_pd_pairs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pairs</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">,</span> <span class="n">all_combinations</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-204"><a href="#FriedmanHStatisticMethod-204"><span class="linenos">204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">calculate_pd_single</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-205"><a href="#FriedmanHStatisticMethod-205"><span class="linenos">205</span></a>        <span class="n">value_pairs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FriedmanHStatisticMethod-206"><a href="#FriedmanHStatisticMethod-206"><span class="linenos">206</span></a>        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pairs</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod-207"><a href="#FriedmanHStatisticMethod-207"><span class="linenos">207</span></a>            <span class="n">pd_f1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_single</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">feature_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-208"><a href="#FriedmanHStatisticMethod-208"><span class="linenos">208</span></a>            <span class="n">pd_f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_single</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">feature_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-209"><a href="#FriedmanHStatisticMethod-209"><span class="linenos">209</span></a>            <span class="n">pair_feature_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
</span><span id="FriedmanHStatisticMethod-210"><a href="#FriedmanHStatisticMethod-210"><span class="linenos">210</span></a>            <span class="n">pd_pair</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_pairs</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">feature_values</span> <span class="o">=</span> <span class="n">pair_feature_values</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod-211"><a href="#FriedmanHStatisticMethod-211"><span class="linenos">211</span></a>            <span class="n">value_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">_calculate_hstat_value</span><span class="p">(</span><span class="n">pd_f1</span><span class="p">,</span> <span class="n">pd_f2</span><span class="p">,</span> <span class="n">pd_pair</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">normalized</span><span class="p">)])</span>
</span><span id="FriedmanHStatisticMethod-212"><a href="#FriedmanHStatisticMethod-212"><span class="linenos">212</span></a>        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">value_pairs</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Feature 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Feature 2&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
</span><span id="FriedmanHStatisticMethod-213"><a href="#FriedmanHStatisticMethod-213"><span class="linenos">213</span></a>            <span class="n">by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interactions_ascending_order</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span>
</span><span id="FriedmanHStatisticMethod-214"><a href="#FriedmanHStatisticMethod-214"><span class="linenos">214</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Friedman's H-statistic Method for Feature Interaction Extraction. </p>

<p>Uses partial dependence values to calculate feature interaction strengths and feature importance. </p>

<h6 id="attributes">Attributes</h6>

<ul>
<li><strong>method</strong> (str):
Method name, used also for naming column with results in <code>ovo</code> pd.DataFrame.</li>
<li><strong>visualizer</strong> (Visualizer):
Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</li>
<li><strong>ovo</strong> (pd.DataFrame):
One versus one (pair) feature interaction values.</li>
<li><strong>feature_importance</strong> (pd.DataFrame):
Feature importance values.</li>
<li><strong>ova</strong> (pd.DataFrame):
One vs all feature interaction values.</li>
<li><strong>normalized</strong> (bool):
Flag determining whether interaction values are normalized.
Unnrormalized version is proposed in <a href="https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935">https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935</a></li>
<li><strong>model</strong> (object):
Explained model.</li>
<li><strong>X_sampled</strong> (pd.DataFrame):
Sampled data used for calculation.</li>
<li><strong>features_included</strong> (List[str]):
List of features for which interactions are calculated.</li>
<li><strong>pairs</strong> (List[List[str]]):
List of pairs of features for which interactions are calculated.</li>
<li><strong>pd_calculator</strong> (PartialDependenceCalculator):
Object used to calculate and store partial dependence values.</li>
<li><strong>batchsize</strong> (int):
Batch size used for calculation.</li>
</ul>

<h6 id="references">References</h6>

<ul>
<li><a href="https://www.jstor.org/stable/pdf/30245114.pdf">https://www.jstor.org/stable/pdf/30245114.pdf</a></li>
<li><a href="https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935">https://www.tandfonline.com/doi/full/10.1080/10618600.2021.2007935</a></li>
</ul>
</div>


                            <div id="FriedmanHStatisticMethod.__init__" class="classattr">
                                        <input id="FriedmanHStatisticMethod.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">FriedmanHStatisticMethod</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="n">normalized</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span>)</span>

                <label class="view-source-button" for="FriedmanHStatisticMethod.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FriedmanHStatisticMethod.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FriedmanHStatisticMethod.__init__-53"><a href="#FriedmanHStatisticMethod.__init__-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">normalized</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod.__init__-54"><a href="#FriedmanHStatisticMethod.__init__-54"><span class="linenos">54</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for FriedmanHStatisticMethod</span>
</span><span id="FriedmanHStatisticMethod.__init__-55"><a href="#FriedmanHStatisticMethod.__init__-55"><span class="linenos">55</span></a>
</span><span id="FriedmanHStatisticMethod.__init__-56"><a href="#FriedmanHStatisticMethod.__init__-56"><span class="linenos">56</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod.__init__-57"><a href="#FriedmanHStatisticMethod.__init__-57"><span class="linenos">57</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod.__init__-58"><a href="#FriedmanHStatisticMethod.__init__-58"><span class="linenos">58</span></a><span class="sd">        random_state : int, optional</span>
</span><span id="FriedmanHStatisticMethod.__init__-59"><a href="#FriedmanHStatisticMethod.__init__-59"><span class="linenos">59</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="FriedmanHStatisticMethod.__init__-60"><a href="#FriedmanHStatisticMethod.__init__-60"><span class="linenos">60</span></a><span class="sd">        normalized : bool, optional </span>
</span><span id="FriedmanHStatisticMethod.__init__-61"><a href="#FriedmanHStatisticMethod.__init__-61"><span class="linenos">61</span></a><span class="sd">            Flag determining whether to normalize the interaction values. Normalized version is original H-statistic, </span>
</span><span id="FriedmanHStatisticMethod.__init__-62"><a href="#FriedmanHStatisticMethod.__init__-62"><span class="linenos">62</span></a><span class="sd">            unnrormalized version is square root of nominator of H statistic. Defaults to True which translates to original H-statistic.</span>
</span><span id="FriedmanHStatisticMethod.__init__-63"><a href="#FriedmanHStatisticMethod.__init__-63"><span class="linenos">63</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod.__init__-64"><a href="#FriedmanHStatisticMethod.__init__-64"><span class="linenos">64</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">H_STATISTIC</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod.__init__-65"><a href="#FriedmanHStatisticMethod.__init__-65"><span class="linenos">65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FriedmanHStatisticMethod.__init__-66"><a href="#FriedmanHStatisticMethod.__init__-66"><span class="linenos">66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">normalized</span> <span class="o">=</span> <span class="n">normalized</span>
</span></pre></div>


            <div class="docstring"><p>Constructor for FriedmanHStatisticMethod</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>random_state</strong> (int, optional):
Random state for reproducibility. Defaults to None.</li>
<li><strong>normalized</strong> (bool, optional):
Flag determining whether to normalize the interaction values. Normalized version is original H-statistic, 
unnrormalized version is square root of nominator of H statistic. Defaults to True which translates to original H-statistic.</li>
</ul>
</div>


                            </div>
                            <div id="FriedmanHStatisticMethod.fit" class="classattr">
                                        <input id="FriedmanHStatisticMethod.fit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fit</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">model</span>,</span><span class="param">	<span class="n">X</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">predict_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">batchsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span>,</span><span class="param">	<span class="n">pd_calculator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="../_utilities/pd_calculator.html#PartialDependenceCalculator">artemis._utilities.pd_calculator.PartialDependenceCalculator</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">calculate_ova</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FriedmanHStatisticMethod.fit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FriedmanHStatisticMethod.fit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FriedmanHStatisticMethod.fit-68"><a href="#FriedmanHStatisticMethod.fit-68"><span class="linenos"> 68</span></a>    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-69"><a href="#FriedmanHStatisticMethod.fit-69"><span class="linenos"> 69</span></a>            <span class="n">model</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-70"><a href="#FriedmanHStatisticMethod.fit-70"><span class="linenos"> 70</span></a>            <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-71"><a href="#FriedmanHStatisticMethod.fit-71"><span class="linenos"> 71</span></a>            <span class="n">n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-72"><a href="#FriedmanHStatisticMethod.fit-72"><span class="linenos"> 72</span></a>            <span class="n">predict_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-73"><a href="#FriedmanHStatisticMethod.fit-73"><span class="linenos"> 73</span></a>            <span class="n">features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-74"><a href="#FriedmanHStatisticMethod.fit-74"><span class="linenos"> 74</span></a>            <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-75"><a href="#FriedmanHStatisticMethod.fit-75"><span class="linenos"> 75</span></a>            <span class="n">batchsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-76"><a href="#FriedmanHStatisticMethod.fit-76"><span class="linenos"> 76</span></a>            <span class="n">pd_calculator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PartialDependenceCalculator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.fit-77"><a href="#FriedmanHStatisticMethod.fit-77"><span class="linenos"> 77</span></a>            <span class="n">calculate_ova</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod.fit-78"><a href="#FriedmanHStatisticMethod.fit-78"><span class="linenos"> 78</span></a>        <span class="sd">&quot;&quot;&quot;Calculates H-statistic Feature Interactions Strength and Feature Importance for the given model. </span>
</span><span id="FriedmanHStatisticMethod.fit-79"><a href="#FriedmanHStatisticMethod.fit-79"><span class="linenos"> 79</span></a><span class="sd">        Despite pair interactions, this method can also calculate one vs all interactions.</span>
</span><span id="FriedmanHStatisticMethod.fit-80"><a href="#FriedmanHStatisticMethod.fit-80"><span class="linenos"> 80</span></a>
</span><span id="FriedmanHStatisticMethod.fit-81"><a href="#FriedmanHStatisticMethod.fit-81"><span class="linenos"> 81</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod.fit-82"><a href="#FriedmanHStatisticMethod.fit-82"><span class="linenos"> 82</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod.fit-83"><a href="#FriedmanHStatisticMethod.fit-83"><span class="linenos"> 83</span></a><span class="sd">        model : object</span>
</span><span id="FriedmanHStatisticMethod.fit-84"><a href="#FriedmanHStatisticMethod.fit-84"><span class="linenos"> 84</span></a><span class="sd">            Model to be explained, should have predict_proba or predict method, or predict_function should be provided. </span>
</span><span id="FriedmanHStatisticMethod.fit-85"><a href="#FriedmanHStatisticMethod.fit-85"><span class="linenos"> 85</span></a><span class="sd">        X : pd.DataFrame</span>
</span><span id="FriedmanHStatisticMethod.fit-86"><a href="#FriedmanHStatisticMethod.fit-86"><span class="linenos"> 86</span></a><span class="sd">            Data used to calculate interactions. If n is not None, n rows from X will be sampled. </span>
</span><span id="FriedmanHStatisticMethod.fit-87"><a href="#FriedmanHStatisticMethod.fit-87"><span class="linenos"> 87</span></a><span class="sd">        n : int, optional</span>
</span><span id="FriedmanHStatisticMethod.fit-88"><a href="#FriedmanHStatisticMethod.fit-88"><span class="linenos"> 88</span></a><span class="sd">            Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</span>
</span><span id="FriedmanHStatisticMethod.fit-89"><a href="#FriedmanHStatisticMethod.fit-89"><span class="linenos"> 89</span></a><span class="sd">        predict_function : Callable, optional</span>
</span><span id="FriedmanHStatisticMethod.fit-90"><a href="#FriedmanHStatisticMethod.fit-90"><span class="linenos"> 90</span></a><span class="sd">            Function used to predict model output. It should take model and dataset and outputs predictions. </span>
</span><span id="FriedmanHStatisticMethod.fit-91"><a href="#FriedmanHStatisticMethod.fit-91"><span class="linenos"> 91</span></a><span class="sd">            If None, `predict_proba` method will be used if it exists, otherwise `predict` method. Default is None.</span>
</span><span id="FriedmanHStatisticMethod.fit-92"><a href="#FriedmanHStatisticMethod.fit-92"><span class="linenos"> 92</span></a><span class="sd">        features : List[str], optional</span>
</span><span id="FriedmanHStatisticMethod.fit-93"><a href="#FriedmanHStatisticMethod.fit-93"><span class="linenos"> 93</span></a><span class="sd">            List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</span>
</span><span id="FriedmanHStatisticMethod.fit-94"><a href="#FriedmanHStatisticMethod.fit-94"><span class="linenos"> 94</span></a><span class="sd">        show_progress : bool</span>
</span><span id="FriedmanHStatisticMethod.fit-95"><a href="#FriedmanHStatisticMethod.fit-95"><span class="linenos"> 95</span></a><span class="sd">            If True, progress bar will be shown. Default is False.</span>
</span><span id="FriedmanHStatisticMethod.fit-96"><a href="#FriedmanHStatisticMethod.fit-96"><span class="linenos"> 96</span></a><span class="sd">        batchsize : int</span>
</span><span id="FriedmanHStatisticMethod.fit-97"><a href="#FriedmanHStatisticMethod.fit-97"><span class="linenos"> 97</span></a><span class="sd">            Batch size for calculating partial dependence. Prediction requests are collected until the batchsize is exceeded, </span>
</span><span id="FriedmanHStatisticMethod.fit-98"><a href="#FriedmanHStatisticMethod.fit-98"><span class="linenos"> 98</span></a><span class="sd">            then the model is queried for predictions jointly for many observations. It speeds up the operation of the method.</span>
</span><span id="FriedmanHStatisticMethod.fit-99"><a href="#FriedmanHStatisticMethod.fit-99"><span class="linenos"> 99</span></a><span class="sd">            Default is 2000.</span>
</span><span id="FriedmanHStatisticMethod.fit-100"><a href="#FriedmanHStatisticMethod.fit-100"><span class="linenos">100</span></a><span class="sd">        pd_calculator : PartialDependenceCalculator, optional</span>
</span><span id="FriedmanHStatisticMethod.fit-101"><a href="#FriedmanHStatisticMethod.fit-101"><span class="linenos">101</span></a><span class="sd">            PartialDependenceCalculator object containing partial dependence values for a given model and dataset. </span>
</span><span id="FriedmanHStatisticMethod.fit-102"><a href="#FriedmanHStatisticMethod.fit-102"><span class="linenos">102</span></a><span class="sd">            Providing this object speeds up the calculation as partial dependence values do not need to be recalculated.</span>
</span><span id="FriedmanHStatisticMethod.fit-103"><a href="#FriedmanHStatisticMethod.fit-103"><span class="linenos">103</span></a><span class="sd">            If None, it will be created from scratch. Default is None.</span>
</span><span id="FriedmanHStatisticMethod.fit-104"><a href="#FriedmanHStatisticMethod.fit-104"><span class="linenos">104</span></a><span class="sd">        calculate_ova : bool</span>
</span><span id="FriedmanHStatisticMethod.fit-105"><a href="#FriedmanHStatisticMethod.fit-105"><span class="linenos">105</span></a><span class="sd">            If True, one vs all interactions will be calculated. Default is True.</span>
</span><span id="FriedmanHStatisticMethod.fit-106"><a href="#FriedmanHStatisticMethod.fit-106"><span class="linenos">106</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod.fit-107"><a href="#FriedmanHStatisticMethod.fit-107"><span class="linenos">107</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">predict_function</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">,</span> <span class="n">batchsize</span><span class="p">,</span> <span class="n">pd_calculator</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod.fit-108"><a href="#FriedmanHStatisticMethod.fit-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="n">calculate_ova</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod.fit-109"><a href="#FriedmanHStatisticMethod.fit-109"><span class="linenos">109</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_ova_interactions_from_pd</span><span class="p">(</span><span class="n">show_progress</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates H-statistic Feature Interactions Strength and Feature Importance for the given model. 
Despite pair interactions, this method can also calculate one vs all interactions.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model</strong> (object):
Model to be explained, should have predict_proba or predict method, or predict_function should be provided.</li>
<li><strong>X</strong> (pd.DataFrame):
Data used to calculate interactions. If n is not None, n rows from X will be sampled.</li>
<li><strong>n</strong> (int, optional):
Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</li>
<li><strong>predict_function</strong> (Callable, optional):
Function used to predict model output. It should take model and dataset and outputs predictions. 
If None, <code>predict_proba</code> method will be used if it exists, otherwise <code>predict</code> method. Default is None.</li>
<li><strong>features</strong> (List[str], optional):
List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</li>
<li><strong>show_progress</strong> (bool):
If True, progress bar will be shown. Default is False.</li>
<li><strong>batchsize</strong> (int):
Batch size for calculating partial dependence. Prediction requests are collected until the batchsize is exceeded, 
then the model is queried for predictions jointly for many observations. It speeds up the operation of the method.
Default is 2000.</li>
<li><strong>pd_calculator</strong> (PartialDependenceCalculator, optional):
PartialDependenceCalculator object containing partial dependence values for a given model and dataset. 
Providing this object speeds up the calculation as partial dependence values do not need to be recalculated.
If None, it will be created from scratch. Default is None.</li>
<li><strong>calculate_ova</strong> (bool):
If True, one vs all interactions will be calculated. Default is True.</li>
</ul>
</div>


                            </div>
                            <div id="FriedmanHStatisticMethod.plot" class="classattr">
                                        <input id="FriedmanHStatisticMethod.plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">vis_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;heatmap&#39;</span>,</span><span class="param">	<span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>,</span><span class="param">	<span class="n">figsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>,</span><span class="param">	<span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FriedmanHStatisticMethod.plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FriedmanHStatisticMethod.plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FriedmanHStatisticMethod.plot-111"><a href="#FriedmanHStatisticMethod.plot-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vis_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">HEATMAP</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="FriedmanHStatisticMethod.plot-112"><a href="#FriedmanHStatisticMethod.plot-112"><span class="linenos">112</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod.plot-113"><a href="#FriedmanHStatisticMethod.plot-113"><span class="linenos">113</span></a><span class="sd">        Plot results of explanations.</span>
</span><span id="FriedmanHStatisticMethod.plot-114"><a href="#FriedmanHStatisticMethod.plot-114"><span class="linenos">114</span></a>
</span><span id="FriedmanHStatisticMethod.plot-115"><a href="#FriedmanHStatisticMethod.plot-115"><span class="linenos">115</span></a><span class="sd">        There are five types of plots available:</span>
</span><span id="FriedmanHStatisticMethod.plot-116"><a href="#FriedmanHStatisticMethod.plot-116"><span class="linenos">116</span></a><span class="sd">        - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)</span>
</span><span id="FriedmanHStatisticMethod.plot-117"><a href="#FriedmanHStatisticMethod.plot-117"><span class="linenos">117</span></a><span class="sd">        - bar_chart - bar chart of top feature interactions values</span>
</span><span id="FriedmanHStatisticMethod.plot-118"><a href="#FriedmanHStatisticMethod.plot-118"><span class="linenos">118</span></a><span class="sd">        - graph - graph of feature interactions values</span>
</span><span id="FriedmanHStatisticMethod.plot-119"><a href="#FriedmanHStatisticMethod.plot-119"><span class="linenos">119</span></a><span class="sd">        - bar_chart_ova - bar chart of top one vs all interactions values</span>
</span><span id="FriedmanHStatisticMethod.plot-120"><a href="#FriedmanHStatisticMethod.plot-120"><span class="linenos">120</span></a><span class="sd">        - summary - combination of other plots </span>
</span><span id="FriedmanHStatisticMethod.plot-121"><a href="#FriedmanHStatisticMethod.plot-121"><span class="linenos">121</span></a><span class="sd">        </span>
</span><span id="FriedmanHStatisticMethod.plot-122"><a href="#FriedmanHStatisticMethod.plot-122"><span class="linenos">122</span></a><span class="sd">        Parameters</span>
</span><span id="FriedmanHStatisticMethod.plot-123"><a href="#FriedmanHStatisticMethod.plot-123"><span class="linenos">123</span></a><span class="sd">        ----------</span>
</span><span id="FriedmanHStatisticMethod.plot-124"><a href="#FriedmanHStatisticMethod.plot-124"><span class="linenos">124</span></a><span class="sd">        vis_type : str </span>
</span><span id="FriedmanHStatisticMethod.plot-125"><a href="#FriedmanHStatisticMethod.plot-125"><span class="linenos">125</span></a><span class="sd">            Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;bar_chart_ova&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.</span>
</span><span id="FriedmanHStatisticMethod.plot-126"><a href="#FriedmanHStatisticMethod.plot-126"><span class="linenos">126</span></a><span class="sd">        title : str </span>
</span><span id="FriedmanHStatisticMethod.plot-127"><a href="#FriedmanHStatisticMethod.plot-127"><span class="linenos">127</span></a><span class="sd">            Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.</span>
</span><span id="FriedmanHStatisticMethod.plot-128"><a href="#FriedmanHStatisticMethod.plot-128"><span class="linenos">128</span></a><span class="sd">        figsize : (float, float) </span>
</span><span id="FriedmanHStatisticMethod.plot-129"><a href="#FriedmanHStatisticMethod.plot-129"><span class="linenos">129</span></a><span class="sd">            Size of plot. Default is (8, 6).</span>
</span><span id="FriedmanHStatisticMethod.plot-130"><a href="#FriedmanHStatisticMethod.plot-130"><span class="linenos">130</span></a><span class="sd">        show : bool </span>
</span><span id="FriedmanHStatisticMethod.plot-131"><a href="#FriedmanHStatisticMethod.plot-131"><span class="linenos">131</span></a><span class="sd">            Whether to show plot. Default is True.</span>
</span><span id="FriedmanHStatisticMethod.plot-132"><a href="#FriedmanHStatisticMethod.plot-132"><span class="linenos">132</span></a><span class="sd">        **kwargs : Other Parameters</span>
</span><span id="FriedmanHStatisticMethod.plot-133"><a href="#FriedmanHStatisticMethod.plot-133"><span class="linenos">133</span></a><span class="sd">            Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. </span>
</span><span id="FriedmanHStatisticMethod.plot-134"><a href="#FriedmanHStatisticMethod.plot-134"><span class="linenos">134</span></a><span class="sd">            For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. </span>
</span><span id="FriedmanHStatisticMethod.plot-135"><a href="#FriedmanHStatisticMethod.plot-135"><span class="linenos">135</span></a><span class="sd">            See key parameters below. </span>
</span><span id="FriedmanHStatisticMethod.plot-136"><a href="#FriedmanHStatisticMethod.plot-136"><span class="linenos">136</span></a>
</span><span id="FriedmanHStatisticMethod.plot-137"><a href="#FriedmanHStatisticMethod.plot-137"><span class="linenos">137</span></a><span class="sd">        Other Parameters</span>
</span><span id="FriedmanHStatisticMethod.plot-138"><a href="#FriedmanHStatisticMethod.plot-138"><span class="linenos">138</span></a><span class="sd">        ------------------------</span>
</span><span id="FriedmanHStatisticMethod.plot-139"><a href="#FriedmanHStatisticMethod.plot-139"><span class="linenos">139</span></a><span class="sd">        interaction_color_map : matplotlib colormap name or object, or list of colors</span>
</span><span id="FriedmanHStatisticMethod.plot-140"><a href="#FriedmanHStatisticMethod.plot-140"><span class="linenos">140</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,</span>
</span><span id="FriedmanHStatisticMethod.plot-141"><a href="#FriedmanHStatisticMethod.plot-141"><span class="linenos">141</span></a><span class="sd">            depending on whether a greater value means a greater interaction strength or vice versa.</span>
</span><span id="FriedmanHStatisticMethod.plot-142"><a href="#FriedmanHStatisticMethod.plot-142"><span class="linenos">142</span></a><span class="sd">        importance_color_map :  matplotlib colormap name or object, or list of colors</span>
</span><span id="FriedmanHStatisticMethod.plot-143"><a href="#FriedmanHStatisticMethod.plot-143"><span class="linenos">143</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,</span>
</span><span id="FriedmanHStatisticMethod.plot-144"><a href="#FriedmanHStatisticMethod.plot-144"><span class="linenos">144</span></a><span class="sd">            depending on whether a greater value means a greater interaction strength or vice versa.</span>
</span><span id="FriedmanHStatisticMethod.plot-145"><a href="#FriedmanHStatisticMethod.plot-145"><span class="linenos">145</span></a><span class="sd">        annot_fmt : str</span>
</span><span id="FriedmanHStatisticMethod.plot-146"><a href="#FriedmanHStatisticMethod.plot-146"><span class="linenos">146</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.</span>
</span><span id="FriedmanHStatisticMethod.plot-147"><a href="#FriedmanHStatisticMethod.plot-147"><span class="linenos">147</span></a><span class="sd">        linewidths : float</span>
</span><span id="FriedmanHStatisticMethod.plot-148"><a href="#FriedmanHStatisticMethod.plot-148"><span class="linenos">148</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.</span>
</span><span id="FriedmanHStatisticMethod.plot-149"><a href="#FriedmanHStatisticMethod.plot-149"><span class="linenos">149</span></a><span class="sd">        linecolor : str</span>
</span><span id="FriedmanHStatisticMethod.plot-150"><a href="#FriedmanHStatisticMethod.plot-150"><span class="linenos">150</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.</span>
</span><span id="FriedmanHStatisticMethod.plot-151"><a href="#FriedmanHStatisticMethod.plot-151"><span class="linenos">151</span></a><span class="sd">        cbar_shrink : float</span>
</span><span id="FriedmanHStatisticMethod.plot-152"><a href="#FriedmanHStatisticMethod.plot-152"><span class="linenos">152</span></a><span class="sd">            Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. </span>
</span><span id="FriedmanHStatisticMethod.plot-153"><a href="#FriedmanHStatisticMethod.plot-153"><span class="linenos">153</span></a><span class="sd">    </span>
</span><span id="FriedmanHStatisticMethod.plot-154"><a href="#FriedmanHStatisticMethod.plot-154"><span class="linenos">154</span></a><span class="sd">        top_k : int </span>
</span><span id="FriedmanHStatisticMethod.plot-155"><a href="#FriedmanHStatisticMethod.plot-155"><span class="linenos">155</span></a><span class="sd">            Used for &#39;bar_chart&#39; and &#39;bar_chart_ova&#39; visualizations. Maximum number of pairs that will be presented in plot. Default is 10.</span>
</span><span id="FriedmanHStatisticMethod.plot-156"><a href="#FriedmanHStatisticMethod.plot-156"><span class="linenos">156</span></a><span class="sd">        color : str </span>
</span><span id="FriedmanHStatisticMethod.plot-157"><a href="#FriedmanHStatisticMethod.plot-157"><span class="linenos">157</span></a><span class="sd">            Used for &#39;bar_chart&#39; and &#39;bar_chart_ova&#39; visualizations. Color of bars. Default is &#39;mediumpurple&#39;.</span>
</span><span id="FriedmanHStatisticMethod.plot-158"><a href="#FriedmanHStatisticMethod.plot-158"><span class="linenos">158</span></a>
</span><span id="FriedmanHStatisticMethod.plot-159"><a href="#FriedmanHStatisticMethod.plot-159"><span class="linenos">159</span></a><span class="sd">        n_highest_with_labels : int </span>
</span><span id="FriedmanHStatisticMethod.plot-160"><a href="#FriedmanHStatisticMethod.plot-160"><span class="linenos">160</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is 5. </span>
</span><span id="FriedmanHStatisticMethod.plot-161"><a href="#FriedmanHStatisticMethod.plot-161"><span class="linenos">161</span></a><span class="sd">        edge_color: str </span>
</span><span id="FriedmanHStatisticMethod.plot-162"><a href="#FriedmanHStatisticMethod.plot-162"><span class="linenos">162</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;rebeccapurple. </span>
</span><span id="FriedmanHStatisticMethod.plot-163"><a href="#FriedmanHStatisticMethod.plot-163"><span class="linenos">163</span></a><span class="sd">        node_color: str</span>
</span><span id="FriedmanHStatisticMethod.plot-164"><a href="#FriedmanHStatisticMethod.plot-164"><span class="linenos">164</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;green&#39;. </span>
</span><span id="FriedmanHStatisticMethod.plot-165"><a href="#FriedmanHStatisticMethod.plot-165"><span class="linenos">165</span></a><span class="sd">        node_size: int</span>
</span><span id="FriedmanHStatisticMethod.plot-166"><a href="#FriedmanHStatisticMethod.plot-166"><span class="linenos">166</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;1800&#39;. </span>
</span><span id="FriedmanHStatisticMethod.plot-167"><a href="#FriedmanHStatisticMethod.plot-167"><span class="linenos">167</span></a><span class="sd">        font_color: str</span>
</span><span id="FriedmanHStatisticMethod.plot-168"><a href="#FriedmanHStatisticMethod.plot-168"><span class="linenos">168</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;#3B1F2B&#39;. </span>
</span><span id="FriedmanHStatisticMethod.plot-169"><a href="#FriedmanHStatisticMethod.plot-169"><span class="linenos">169</span></a><span class="sd">        font_weight: str </span>
</span><span id="FriedmanHStatisticMethod.plot-170"><a href="#FriedmanHStatisticMethod.plot-170"><span class="linenos">170</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is &#39;bold&#39;. </span>
</span><span id="FriedmanHStatisticMethod.plot-171"><a href="#FriedmanHStatisticMethod.plot-171"><span class="linenos">171</span></a><span class="sd">        font_size: int </span>
</span><span id="FriedmanHStatisticMethod.plot-172"><a href="#FriedmanHStatisticMethod.plot-172"><span class="linenos">172</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default is 10. </span>
</span><span id="FriedmanHStatisticMethod.plot-173"><a href="#FriedmanHStatisticMethod.plot-173"><span class="linenos">173</span></a><span class="sd">        threshold_relevant_interaction : float</span>
</span><span id="FriedmanHStatisticMethod.plot-174"><a href="#FriedmanHStatisticMethod.plot-174"><span class="linenos">174</span></a><span class="sd">            Used for &#39;graph&#39; visualization. ... Default depends on the interaction method. </span>
</span><span id="FriedmanHStatisticMethod.plot-175"><a href="#FriedmanHStatisticMethod.plot-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FriedmanHStatisticMethod.plot-176"><a href="#FriedmanHStatisticMethod.plot-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ova</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FriedmanHStatisticMethod.plot-177"><a href="#FriedmanHStatisticMethod.plot-177"><span class="linenos">177</span></a>            <span class="k">raise</span> <span class="n">MethodNotFittedException</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
</span><span id="FriedmanHStatisticMethod.plot-178"><a href="#FriedmanHStatisticMethod.plot-178"><span class="linenos">178</span></a>
</span><span id="FriedmanHStatisticMethod.plot-179"><a href="#FriedmanHStatisticMethod.plot-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">visualizer</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ovo</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-180"><a href="#FriedmanHStatisticMethod.plot-180"><span class="linenos">180</span></a>                             <span class="n">vis_type</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-181"><a href="#FriedmanHStatisticMethod.plot-181"><span class="linenos">181</span></a>                             <span class="bp">self</span><span class="o">.</span><span class="n">ova</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-182"><a href="#FriedmanHStatisticMethod.plot-182"><span class="linenos">182</span></a>                             <span class="n">feature_importance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feature_importance</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-183"><a href="#FriedmanHStatisticMethod.plot-183"><span class="linenos">183</span></a>                             <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-184"><a href="#FriedmanHStatisticMethod.plot-184"><span class="linenos">184</span></a>                             <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-185"><a href="#FriedmanHStatisticMethod.plot-185"><span class="linenos">185</span></a>                             <span class="n">show</span><span class="o">=</span><span class="n">show</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-186"><a href="#FriedmanHStatisticMethod.plot-186"><span class="linenos">186</span></a>                             <span class="n">interactions_ascending_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interactions_ascending_order</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-187"><a href="#FriedmanHStatisticMethod.plot-187"><span class="linenos">187</span></a>                             <span class="n">importance_ascending_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span><span class="o">.</span><span class="n">importance_ascending_order</span><span class="p">,</span>
</span><span id="FriedmanHStatisticMethod.plot-188"><a href="#FriedmanHStatisticMethod.plot-188"><span class="linenos">188</span></a>                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Plot results of explanations.</p>

<p>There are five types of plots available:</p>

<ul>
<li>heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)</li>
<li>bar_chart - bar chart of top feature interactions values</li>
<li>graph - graph of feature interactions values</li>
<li>bar_chart_ova - bar chart of top one vs all interactions values</li>
<li>summary - combination of other plots </li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>vis_type</strong> (str):
Type of visualization, one of ['heatmap', 'bar_chart', 'graph', 'bar_chart_ova', 'summary']. Default is 'heatmap'.</li>
<li><strong>title</strong> (str):
Title of plot, default is 'default' which means that title will be automatically generated for selected visualization type.</li>
<li><strong>figsize</strong> ((float, float)):
Size of plot. Default is (8, 6).</li>
<li><strong>show</strong> (bool):
Whether to show plot. Default is True.</li>
<li><strong>**kwargs</strong> (Other Parameters):
Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. 
For 'summary' visualization parameters for respective plots should be in dict with keys corresponding to visualization name. 
See key parameters below.</li>
</ul>

<h6 id="other-parameters">Other Parameters</h6>

<ul>
<li><strong>interaction_color_map</strong> (matplotlib colormap name or object, or list of colors):
Used for 'heatmap' visualization. The mapping from interaction values to color space. Default is 'Purples' or 'Purpler_r',
depending on whether a greater value means a greater interaction strength or vice versa.</li>
<li><strong>importance_color_map</strong> (matplotlib colormap name or object, or list of colors):
Used for 'heatmap' visualization. The mapping from importance values to color space. Default is 'Greens' or 'Greens_r',
depending on whether a greater value means a greater interaction strength or vice versa.</li>
<li><strong>annot_fmt</strong> (str):
Used for 'heatmap' visualization. String formatting code to use when adding annotations with values. Default is '.3f'.</li>
<li><strong>linewidths</strong> (float):
Used for 'heatmap' visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.</li>
<li><strong>linecolor</strong> (str):
Used for 'heatmap' visualization. Color of the lines that will divide each cell in matrix. Default is 'white'.</li>
<li><strong>cbar_shrink</strong> (float):
Used for 'heatmap' visualization. Fraction by which to multiply the size of the colorbar. Default is 1.</li>
<li><strong>top_k</strong> (int):
Used for 'bar_chart' and 'bar_chart_ova' visualizations. Maximum number of pairs that will be presented in plot. Default is 10.</li>
<li><strong>color</strong> (str):
Used for 'bar_chart' and 'bar_chart_ova' visualizations. Color of bars. Default is 'mediumpurple'.</li>
<li><strong>n_highest_with_labels</strong> (int):
Used for 'graph' visualization. ... Default is 5.</li>
<li><strong>edge_color</strong> (str):
Used for 'graph' visualization. ... Default is 'rebeccapurple.</li>
<li><strong>node_color</strong> (str):
Used for 'graph' visualization. ... Default is 'green'.</li>
<li><strong>node_size</strong> (int):
Used for 'graph' visualization. ... Default is '1800'.</li>
<li><strong>font_color</strong> (str):
Used for 'graph' visualization. ... Default is '#3B1F2B'.</li>
<li><strong>font_weight</strong> (str):
Used for 'graph' visualization. ... Default is 'bold'.</li>
<li><strong>font_size</strong> (int):
Used for 'graph' visualization. ... Default is 10.</li>
<li><strong>threshold_relevant_interaction</strong> (float):
Used for 'graph' visualization. ... Default depends on the interaction method.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artemis.interactions_methods.model_agnostic.partial_dependence_based._pdp.PartialDependenceBasedMethod</dt>
                                <dd id="FriedmanHStatisticMethod.plot_profile" class="function">plot_profile</dd>

            </div>
            <div><dt><a href="_method.html#FeatureInteractionMethod">artemis.interactions_methods._method.FeatureInteractionMethod</a></dt>
                                <dd id="FriedmanHStatisticMethod.interaction_value" class="function"><a href="_method.html#FeatureInteractionMethod.interaction_value">interaction_value</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="GreenwellMethod">
                            <input id="GreenwellMethod-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">GreenwellMethod</span><wbr>(<span class="base">artemis.interactions_methods.model_agnostic.partial_dependence_based._pdp.PartialDependenceBasedMethod</span>):

                <label class="view-source-button" for="GreenwellMethod-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GreenwellMethod"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GreenwellMethod-14"><a href="#GreenwellMethod-14"><span class="linenos">14</span></a><span class="k">class</span> <span class="nc">GreenwellMethod</span><span class="p">(</span><span class="n">PartialDependenceBasedMethod</span><span class="p">):</span>
</span><span id="GreenwellMethod-15"><a href="#GreenwellMethod-15"><span class="linenos">15</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="GreenwellMethod-16"><a href="#GreenwellMethod-16"><span class="linenos">16</span></a><span class="sd">    Greenwell Method for Feature Interaction Extraction. </span>
</span><span id="GreenwellMethod-17"><a href="#GreenwellMethod-17"><span class="linenos">17</span></a><span class="sd">    </span>
</span><span id="GreenwellMethod-18"><a href="#GreenwellMethod-18"><span class="linenos">18</span></a><span class="sd">    Uses partial dependence values to calculate feature interaction strengths and feature importance. </span>
</span><span id="GreenwellMethod-19"><a href="#GreenwellMethod-19"><span class="linenos">19</span></a>
</span><span id="GreenwellMethod-20"><a href="#GreenwellMethod-20"><span class="linenos">20</span></a><span class="sd">    Attributes</span>
</span><span id="GreenwellMethod-21"><a href="#GreenwellMethod-21"><span class="linenos">21</span></a><span class="sd">    ----------</span>
</span><span id="GreenwellMethod-22"><a href="#GreenwellMethod-22"><span class="linenos">22</span></a><span class="sd">    method : str </span>
</span><span id="GreenwellMethod-23"><a href="#GreenwellMethod-23"><span class="linenos">23</span></a><span class="sd">        Method name, used also for naming column with results in `ovo` pd.DataFrame.</span>
</span><span id="GreenwellMethod-24"><a href="#GreenwellMethod-24"><span class="linenos">24</span></a><span class="sd">    visualizer : Visualizer</span>
</span><span id="GreenwellMethod-25"><a href="#GreenwellMethod-25"><span class="linenos">25</span></a><span class="sd">        Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</span>
</span><span id="GreenwellMethod-26"><a href="#GreenwellMethod-26"><span class="linenos">26</span></a><span class="sd">    ovo : pd.DataFrame </span>
</span><span id="GreenwellMethod-27"><a href="#GreenwellMethod-27"><span class="linenos">27</span></a><span class="sd">        One versus one (pair) feature interaction values. </span>
</span><span id="GreenwellMethod-28"><a href="#GreenwellMethod-28"><span class="linenos">28</span></a><span class="sd">    feature_importance : pd.DataFrame </span>
</span><span id="GreenwellMethod-29"><a href="#GreenwellMethod-29"><span class="linenos">29</span></a><span class="sd">        Feature importance values.</span>
</span><span id="GreenwellMethod-30"><a href="#GreenwellMethod-30"><span class="linenos">30</span></a><span class="sd">    model : object</span>
</span><span id="GreenwellMethod-31"><a href="#GreenwellMethod-31"><span class="linenos">31</span></a><span class="sd">        Explained model.</span>
</span><span id="GreenwellMethod-32"><a href="#GreenwellMethod-32"><span class="linenos">32</span></a><span class="sd">    X_sampled: pd.DataFrame</span>
</span><span id="GreenwellMethod-33"><a href="#GreenwellMethod-33"><span class="linenos">33</span></a><span class="sd">        Sampled data used for calculation.</span>
</span><span id="GreenwellMethod-34"><a href="#GreenwellMethod-34"><span class="linenos">34</span></a><span class="sd">    features_included: List[str]</span>
</span><span id="GreenwellMethod-35"><a href="#GreenwellMethod-35"><span class="linenos">35</span></a><span class="sd">        List of features for which interactions are calculated.</span>
</span><span id="GreenwellMethod-36"><a href="#GreenwellMethod-36"><span class="linenos">36</span></a><span class="sd">    pairs : List[List[str]]</span>
</span><span id="GreenwellMethod-37"><a href="#GreenwellMethod-37"><span class="linenos">37</span></a><span class="sd">        List of pairs of features for which interactions are calculated.</span>
</span><span id="GreenwellMethod-38"><a href="#GreenwellMethod-38"><span class="linenos">38</span></a><span class="sd">    pd_calculator : PartialDependenceCalculator</span>
</span><span id="GreenwellMethod-39"><a href="#GreenwellMethod-39"><span class="linenos">39</span></a><span class="sd">        Object used to calculate and store partial dependence values.</span>
</span><span id="GreenwellMethod-40"><a href="#GreenwellMethod-40"><span class="linenos">40</span></a><span class="sd">    batchsize : int</span>
</span><span id="GreenwellMethod-41"><a href="#GreenwellMethod-41"><span class="linenos">41</span></a><span class="sd">        Batch size used for calculation.</span>
</span><span id="GreenwellMethod-42"><a href="#GreenwellMethod-42"><span class="linenos">42</span></a>
</span><span id="GreenwellMethod-43"><a href="#GreenwellMethod-43"><span class="linenos">43</span></a><span class="sd">    References</span>
</span><span id="GreenwellMethod-44"><a href="#GreenwellMethod-44"><span class="linenos">44</span></a><span class="sd">    ----------</span>
</span><span id="GreenwellMethod-45"><a href="#GreenwellMethod-45"><span class="linenos">45</span></a><span class="sd">    - https://arxiv.org/pdf/1805.04755.pdf</span>
</span><span id="GreenwellMethod-46"><a href="#GreenwellMethod-46"><span class="linenos">46</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GreenwellMethod-47"><a href="#GreenwellMethod-47"><span class="linenos">47</span></a>
</span><span id="GreenwellMethod-48"><a href="#GreenwellMethod-48"><span class="linenos">48</span></a>
</span><span id="GreenwellMethod-49"><a href="#GreenwellMethod-49"><span class="linenos">49</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="GreenwellMethod-50"><a href="#GreenwellMethod-50"><span class="linenos">50</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for GreenwellMethod</span>
</span><span id="GreenwellMethod-51"><a href="#GreenwellMethod-51"><span class="linenos">51</span></a><span class="sd">        </span>
</span><span id="GreenwellMethod-52"><a href="#GreenwellMethod-52"><span class="linenos">52</span></a><span class="sd">        Parameters</span>
</span><span id="GreenwellMethod-53"><a href="#GreenwellMethod-53"><span class="linenos">53</span></a><span class="sd">        ----------</span>
</span><span id="GreenwellMethod-54"><a href="#GreenwellMethod-54"><span class="linenos">54</span></a><span class="sd">        random_state : int, optional </span>
</span><span id="GreenwellMethod-55"><a href="#GreenwellMethod-55"><span class="linenos">55</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="GreenwellMethod-56"><a href="#GreenwellMethod-56"><span class="linenos">56</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GreenwellMethod-57"><a href="#GreenwellMethod-57"><span class="linenos">57</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">VARIABLE_INTERACTION</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">)</span>
</span><span id="GreenwellMethod-58"><a href="#GreenwellMethod-58"><span class="linenos">58</span></a>
</span><span id="GreenwellMethod-59"><a href="#GreenwellMethod-59"><span class="linenos">59</span></a>    <span class="k">def</span> <span class="nf">_calculate_ovo_interactions_from_pd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="GreenwellMethod-60"><a href="#GreenwellMethod-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">calculate_pd_pairs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pairs</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">)</span>
</span><span id="GreenwellMethod-61"><a href="#GreenwellMethod-61"><span class="linenos">61</span></a>        <span class="n">value_pairs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="GreenwellMethod-62"><a href="#GreenwellMethod-62"><span class="linenos">62</span></a>        <span class="n">num_features</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">split_features_num_cat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">)</span>
</span><span id="GreenwellMethod-63"><a href="#GreenwellMethod-63"><span class="linenos">63</span></a>        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pairs</span><span class="p">:</span>
</span><span id="GreenwellMethod-64"><a href="#GreenwellMethod-64"><span class="linenos">64</span></a>            <span class="n">pair</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">_get_pair_key</span><span class="p">((</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="GreenwellMethod-65"><a href="#GreenwellMethod-65"><span class="linenos">65</span></a>            <span class="n">pd_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pd_calculator</span><span class="o">.</span><span class="n">get_pd_pairs</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="GreenwellMethod-66"><a href="#GreenwellMethod-66"><span class="linenos">66</span></a>            <span class="n">res_j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="n">stdev</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="n">_calc_conditional_imp</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pd_values</span><span class="p">,</span> <span class="n">is_numerical</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">num_features</span><span class="p">))</span>
</span><span id="GreenwellMethod-67"><a href="#GreenwellMethod-67"><span class="linenos">67</span></a>            <span class="n">res_i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="n">stdev</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="n">_calc_conditional_imp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pd_values</span><span class="p">,</span> <span class="n">is_numerical</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">num_features</span><span class="p">))</span>
</span><span id="GreenwellMethod-68"><a href="#GreenwellMethod-68"><span class="linenos">68</span></a>            <span class="n">value_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="n">res_j</span> <span class="o">+</span> <span class="n">res_i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">])</span>
</span><span id="GreenwellMethod-69"><a href="#GreenwellMethod-69"><span class="linenos">69</span></a>        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">value_pairs</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Feature 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Feature 2&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
</span><span id="GreenwellMethod-70"><a href="#GreenwellMethod-70"><span class="linenos">70</span></a>            <span class="n">by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interactions_ascending_order</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span>
</span><span id="GreenwellMethod-71"><a href="#GreenwellMethod-71"><span class="linenos">71</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Greenwell Method for Feature Interaction Extraction. </p>

<p>Uses partial dependence values to calculate feature interaction strengths and feature importance. </p>

<h6 id="attributes">Attributes</h6>

<ul>
<li><strong>method</strong> (str):
Method name, used also for naming column with results in <code>ovo</code> pd.DataFrame.</li>
<li><strong>visualizer</strong> (Visualizer):
Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</li>
<li><strong>ovo</strong> (pd.DataFrame):
One versus one (pair) feature interaction values.</li>
<li><strong>feature_importance</strong> (pd.DataFrame):
Feature importance values.</li>
<li><strong>model</strong> (object):
Explained model.</li>
<li><strong>X_sampled</strong> (pd.DataFrame):
Sampled data used for calculation.</li>
<li><strong>features_included</strong> (List[str]):
List of features for which interactions are calculated.</li>
<li><strong>pairs</strong> (List[List[str]]):
List of pairs of features for which interactions are calculated.</li>
<li><strong>pd_calculator</strong> (PartialDependenceCalculator):
Object used to calculate and store partial dependence values.</li>
<li><strong>batchsize</strong> (int):
Batch size used for calculation.</li>
</ul>

<h6 id="references">References</h6>

<ul>
<li><a href="https://arxiv.org/pdf/1805.04755.pdf">https://arxiv.org/pdf/1805.04755.pdf</a></li>
</ul>
</div>


                            <div id="GreenwellMethod.__init__" class="classattr">
                                        <input id="GreenwellMethod.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">GreenwellMethod</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="GreenwellMethod.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GreenwellMethod.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GreenwellMethod.__init__-49"><a href="#GreenwellMethod.__init__-49"><span class="linenos">49</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="GreenwellMethod.__init__-50"><a href="#GreenwellMethod.__init__-50"><span class="linenos">50</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for GreenwellMethod</span>
</span><span id="GreenwellMethod.__init__-51"><a href="#GreenwellMethod.__init__-51"><span class="linenos">51</span></a><span class="sd">        </span>
</span><span id="GreenwellMethod.__init__-52"><a href="#GreenwellMethod.__init__-52"><span class="linenos">52</span></a><span class="sd">        Parameters</span>
</span><span id="GreenwellMethod.__init__-53"><a href="#GreenwellMethod.__init__-53"><span class="linenos">53</span></a><span class="sd">        ----------</span>
</span><span id="GreenwellMethod.__init__-54"><a href="#GreenwellMethod.__init__-54"><span class="linenos">54</span></a><span class="sd">        random_state : int, optional </span>
</span><span id="GreenwellMethod.__init__-55"><a href="#GreenwellMethod.__init__-55"><span class="linenos">55</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="GreenwellMethod.__init__-56"><a href="#GreenwellMethod.__init__-56"><span class="linenos">56</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="GreenwellMethod.__init__-57"><a href="#GreenwellMethod.__init__-57"><span class="linenos">57</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">VARIABLE_INTERACTION</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Constructor for GreenwellMethod</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>random_state</strong> (int, optional):
Random state for reproducibility. Defaults to None.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artemis.interactions_methods.model_agnostic.partial_dependence_based._pdp.PartialDependenceBasedMethod</dt>
                                <dd id="GreenwellMethod.fit" class="function">fit</dd>
                <dd id="GreenwellMethod.plot_profile" class="function">plot_profile</dd>

            </div>
            <div><dt><a href="_method.html#FeatureInteractionMethod">artemis.interactions_methods._method.FeatureInteractionMethod</a></dt>
                                <dd id="GreenwellMethod.plot" class="function"><a href="_method.html#FeatureInteractionMethod.plot">plot</a></dd>
                <dd id="GreenwellMethod.interaction_value" class="function"><a href="_method.html#FeatureInteractionMethod.interaction_value">interaction_value</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SejongOhMethod">
                            <input id="SejongOhMethod-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SejongOhMethod</span><wbr>(<span class="base"><a href="_method.html#FeatureInteractionMethod">artemis.interactions_methods._method.FeatureInteractionMethod</a></span>):

                <label class="view-source-button" for="SejongOhMethod-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SejongOhMethod"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SejongOhMethod-16"><a href="#SejongOhMethod-16"><span class="linenos"> 16</span></a><span class="k">class</span> <span class="nc">SejongOhMethod</span><span class="p">(</span><span class="n">FeatureInteractionMethod</span><span class="p">):</span>
</span><span id="SejongOhMethod-17"><a href="#SejongOhMethod-17"><span class="linenos"> 17</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SejongOhMethod-18"><a href="#SejongOhMethod-18"><span class="linenos"> 18</span></a><span class="sd">    Sejong Oh&#39;s Performance Based Method for Feature Interaction Extraction. </span>
</span><span id="SejongOhMethod-19"><a href="#SejongOhMethod-19"><span class="linenos"> 19</span></a><span class="sd">    </span>
</span><span id="SejongOhMethod-20"><a href="#SejongOhMethod-20"><span class="linenos"> 20</span></a><span class="sd">    Attributes</span>
</span><span id="SejongOhMethod-21"><a href="#SejongOhMethod-21"><span class="linenos"> 21</span></a><span class="sd">    ----------</span>
</span><span id="SejongOhMethod-22"><a href="#SejongOhMethod-22"><span class="linenos"> 22</span></a><span class="sd">    method : str </span>
</span><span id="SejongOhMethod-23"><a href="#SejongOhMethod-23"><span class="linenos"> 23</span></a><span class="sd">        Method name, used also for naming column with results in `ovo` pd.DataFrame.</span>
</span><span id="SejongOhMethod-24"><a href="#SejongOhMethod-24"><span class="linenos"> 24</span></a><span class="sd">    visualizer : Visualizer</span>
</span><span id="SejongOhMethod-25"><a href="#SejongOhMethod-25"><span class="linenos"> 25</span></a><span class="sd">        Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</span>
</span><span id="SejongOhMethod-26"><a href="#SejongOhMethod-26"><span class="linenos"> 26</span></a><span class="sd">    ovo : pd.DataFrame </span>
</span><span id="SejongOhMethod-27"><a href="#SejongOhMethod-27"><span class="linenos"> 27</span></a><span class="sd">        One versus one (pair) feature interaction values. </span>
</span><span id="SejongOhMethod-28"><a href="#SejongOhMethod-28"><span class="linenos"> 28</span></a><span class="sd">    feature_importance : pd.DataFrame </span>
</span><span id="SejongOhMethod-29"><a href="#SejongOhMethod-29"><span class="linenos"> 29</span></a><span class="sd">        Feature importance values.</span>
</span><span id="SejongOhMethod-30"><a href="#SejongOhMethod-30"><span class="linenos"> 30</span></a><span class="sd">    metric : Metric</span>
</span><span id="SejongOhMethod-31"><a href="#SejongOhMethod-31"><span class="linenos"> 31</span></a><span class="sd">        Metric used for calculating performance.</span>
</span><span id="SejongOhMethod-32"><a href="#SejongOhMethod-32"><span class="linenos"> 32</span></a><span class="sd">    model : object</span>
</span><span id="SejongOhMethod-33"><a href="#SejongOhMethod-33"><span class="linenos"> 33</span></a><span class="sd">        Explained model.</span>
</span><span id="SejongOhMethod-34"><a href="#SejongOhMethod-34"><span class="linenos"> 34</span></a><span class="sd">    X_sampled: pd.DataFrame</span>
</span><span id="SejongOhMethod-35"><a href="#SejongOhMethod-35"><span class="linenos"> 35</span></a><span class="sd">        Sampled data used for calculation.</span>
</span><span id="SejongOhMethod-36"><a href="#SejongOhMethod-36"><span class="linenos"> 36</span></a><span class="sd">    y_sampled: np.array or pd.Series</span>
</span><span id="SejongOhMethod-37"><a href="#SejongOhMethod-37"><span class="linenos"> 37</span></a><span class="sd">        Sampled target values used for calculation.</span>
</span><span id="SejongOhMethod-38"><a href="#SejongOhMethod-38"><span class="linenos"> 38</span></a><span class="sd">    features_included: List[str]</span>
</span><span id="SejongOhMethod-39"><a href="#SejongOhMethod-39"><span class="linenos"> 39</span></a><span class="sd">        List of features for which interactions are calculated.</span>
</span><span id="SejongOhMethod-40"><a href="#SejongOhMethod-40"><span class="linenos"> 40</span></a><span class="sd">    pairs : List[List[str]]</span>
</span><span id="SejongOhMethod-41"><a href="#SejongOhMethod-41"><span class="linenos"> 41</span></a><span class="sd">        List of pairs of features for which interactions are calculated.</span>
</span><span id="SejongOhMethod-42"><a href="#SejongOhMethod-42"><span class="linenos"> 42</span></a><span class="sd">    random_state : int</span>
</span><span id="SejongOhMethod-43"><a href="#SejongOhMethod-43"><span class="linenos"> 43</span></a><span class="sd">        Random state used for reproducibility.</span>
</span><span id="SejongOhMethod-44"><a href="#SejongOhMethod-44"><span class="linenos"> 44</span></a>
</span><span id="SejongOhMethod-45"><a href="#SejongOhMethod-45"><span class="linenos"> 45</span></a><span class="sd">    References</span>
</span><span id="SejongOhMethod-46"><a href="#SejongOhMethod-46"><span class="linenos"> 46</span></a><span class="sd">    ----------</span>
</span><span id="SejongOhMethod-47"><a href="#SejongOhMethod-47"><span class="linenos"> 47</span></a><span class="sd">    - https://www.mdpi.com/2076-3417/9/23/5191</span>
</span><span id="SejongOhMethod-48"><a href="#SejongOhMethod-48"><span class="linenos"> 48</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SejongOhMethod-49"><a href="#SejongOhMethod-49"><span class="linenos"> 49</span></a>
</span><span id="SejongOhMethod-50"><a href="#SejongOhMethod-50"><span class="linenos"> 50</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">=</span> <span class="n">RMSE</span><span class="p">(),</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="SejongOhMethod-51"><a href="#SejongOhMethod-51"><span class="linenos"> 51</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for SejongOhMethod</span>
</span><span id="SejongOhMethod-52"><a href="#SejongOhMethod-52"><span class="linenos"> 52</span></a><span class="sd">        </span>
</span><span id="SejongOhMethod-53"><a href="#SejongOhMethod-53"><span class="linenos"> 53</span></a><span class="sd">        Parameters</span>
</span><span id="SejongOhMethod-54"><a href="#SejongOhMethod-54"><span class="linenos"> 54</span></a><span class="sd">        ----------</span>
</span><span id="SejongOhMethod-55"><a href="#SejongOhMethod-55"><span class="linenos"> 55</span></a><span class="sd">        metric : Metric</span>
</span><span id="SejongOhMethod-56"><a href="#SejongOhMethod-56"><span class="linenos"> 56</span></a><span class="sd">            Metric used to calculate model performance. Defaults to RMSE().</span>
</span><span id="SejongOhMethod-57"><a href="#SejongOhMethod-57"><span class="linenos"> 57</span></a><span class="sd">        random_state : int, optional </span>
</span><span id="SejongOhMethod-58"><a href="#SejongOhMethod-58"><span class="linenos"> 58</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="SejongOhMethod-59"><a href="#SejongOhMethod-59"><span class="linenos"> 59</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SejongOhMethod-60"><a href="#SejongOhMethod-60"><span class="linenos"> 60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">PERFORMANCE_BASED</span><span class="p">,</span> <span class="n">random_state</span><span class="p">)</span>
</span><span id="SejongOhMethod-61"><a href="#SejongOhMethod-61"><span class="linenos"> 61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">=</span> <span class="n">metric</span>
</span><span id="SejongOhMethod-62"><a href="#SejongOhMethod-62"><span class="linenos"> 62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SejongOhMethod-63"><a href="#SejongOhMethod-63"><span class="linenos"> 63</span></a>
</span><span id="SejongOhMethod-64"><a href="#SejongOhMethod-64"><span class="linenos"> 64</span></a>    <span class="nd">@property</span>
</span><span id="SejongOhMethod-65"><a href="#SejongOhMethod-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="nf">interactions_ascending_order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SejongOhMethod-66"><a href="#SejongOhMethod-66"><span class="linenos"> 66</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="SejongOhMethod-67"><a href="#SejongOhMethod-67"><span class="linenos"> 67</span></a>
</span><span id="SejongOhMethod-68"><a href="#SejongOhMethod-68"><span class="linenos"> 68</span></a>    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span>
</span><span id="SejongOhMethod-69"><a href="#SejongOhMethod-69"><span class="linenos"> 69</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="SejongOhMethod-70"><a href="#SejongOhMethod-70"><span class="linenos"> 70</span></a>            <span class="n">model</span><span class="p">,</span>
</span><span id="SejongOhMethod-71"><a href="#SejongOhMethod-71"><span class="linenos"> 71</span></a>            <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="SejongOhMethod-72"><a href="#SejongOhMethod-72"><span class="linenos"> 72</span></a>            <span class="n">y_true</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span>  
</span><span id="SejongOhMethod-73"><a href="#SejongOhMethod-73"><span class="linenos"> 73</span></a>            <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SejongOhMethod-74"><a href="#SejongOhMethod-74"><span class="linenos"> 74</span></a>            <span class="n">n_repeat</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="SejongOhMethod-75"><a href="#SejongOhMethod-75"><span class="linenos"> 75</span></a>            <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SejongOhMethod-76"><a href="#SejongOhMethod-76"><span class="linenos"> 76</span></a>            <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SejongOhMethod-77"><a href="#SejongOhMethod-77"><span class="linenos"> 77</span></a>    <span class="p">):</span>  
</span><span id="SejongOhMethod-78"><a href="#SejongOhMethod-78"><span class="linenos"> 78</span></a>        <span class="sd">&quot;&quot;&quot;Calculates Performance Based Feature Interactions Strength and Permutation Based Feature Importance for the given model.</span>
</span><span id="SejongOhMethod-79"><a href="#SejongOhMethod-79"><span class="linenos"> 79</span></a>
</span><span id="SejongOhMethod-80"><a href="#SejongOhMethod-80"><span class="linenos"> 80</span></a><span class="sd">        Parameters</span>
</span><span id="SejongOhMethod-81"><a href="#SejongOhMethod-81"><span class="linenos"> 81</span></a><span class="sd">        ----------</span>
</span><span id="SejongOhMethod-82"><a href="#SejongOhMethod-82"><span class="linenos"> 82</span></a><span class="sd">        model : object</span>
</span><span id="SejongOhMethod-83"><a href="#SejongOhMethod-83"><span class="linenos"> 83</span></a><span class="sd">            Model to be explained, should have predict method.</span>
</span><span id="SejongOhMethod-84"><a href="#SejongOhMethod-84"><span class="linenos"> 84</span></a><span class="sd">        X : pd.DataFrame</span>
</span><span id="SejongOhMethod-85"><a href="#SejongOhMethod-85"><span class="linenos"> 85</span></a><span class="sd">            Data used to calculate interactions. If n is not None, n rows from X will be sampled. </span>
</span><span id="SejongOhMethod-86"><a href="#SejongOhMethod-86"><span class="linenos"> 86</span></a><span class="sd">        y_true : np.array or pd.Series</span>
</span><span id="SejongOhMethod-87"><a href="#SejongOhMethod-87"><span class="linenos"> 87</span></a><span class="sd">            Target values for X data. </span>
</span><span id="SejongOhMethod-88"><a href="#SejongOhMethod-88"><span class="linenos"> 88</span></a><span class="sd">        n : int, optional</span>
</span><span id="SejongOhMethod-89"><a href="#SejongOhMethod-89"><span class="linenos"> 89</span></a><span class="sd">            Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</span>
</span><span id="SejongOhMethod-90"><a href="#SejongOhMethod-90"><span class="linenos"> 90</span></a><span class="sd">        n_repeat : int, optional</span>
</span><span id="SejongOhMethod-91"><a href="#SejongOhMethod-91"><span class="linenos"> 91</span></a><span class="sd">            Number of permutations. Default is 10.</span>
</span><span id="SejongOhMethod-92"><a href="#SejongOhMethod-92"><span class="linenos"> 92</span></a><span class="sd">        features : List[str], optional</span>
</span><span id="SejongOhMethod-93"><a href="#SejongOhMethod-93"><span class="linenos"> 93</span></a><span class="sd">            List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</span>
</span><span id="SejongOhMethod-94"><a href="#SejongOhMethod-94"><span class="linenos"> 94</span></a><span class="sd">        show_progress : bool</span>
</span><span id="SejongOhMethod-95"><a href="#SejongOhMethod-95"><span class="linenos"> 95</span></a><span class="sd">            If True, progress bar will be shown. Default is False.</span>
</span><span id="SejongOhMethod-96"><a href="#SejongOhMethod-96"><span class="linenos"> 96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SejongOhMethod-97"><a href="#SejongOhMethod-97"><span class="linenos"> 97</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span> <span class="o">=</span> <span class="n">sample_both_if_not_none</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_random_generator</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</span><span id="SejongOhMethod-98"><a href="#SejongOhMethod-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">features_included</span> <span class="o">=</span> <span class="n">all_if_none</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">features</span><span class="p">)</span>
</span><span id="SejongOhMethod-99"><a href="#SejongOhMethod-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pairs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="SejongOhMethod-100"><a href="#SejongOhMethod-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ovo</span> <span class="o">=</span> <span class="n">_perf_based_ovo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span><span class="p">,</span> <span class="n">n_repeat</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">)</span>
</span><span id="SejongOhMethod-101"><a href="#SejongOhMethod-101"><span class="linenos">101</span></a>
</span><span id="SejongOhMethod-102"><a href="#SejongOhMethod-102"><span class="linenos">102</span></a>        <span class="c1"># calculate feature importance</span>
</span><span id="SejongOhMethod-103"><a href="#SejongOhMethod-103"><span class="linenos">103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span> <span class="o">=</span> <span class="n">PermutationImportance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">)</span>
</span><span id="SejongOhMethod-104"><a href="#SejongOhMethod-104"><span class="linenos">104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">feature_importance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span><span class="o">.</span><span class="n">importance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span>
</span><span id="SejongOhMethod-105"><a href="#SejongOhMethod-105"><span class="linenos">105</span></a>                                                                            <span class="n">y_true</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span><span class="p">,</span>
</span><span id="SejongOhMethod-106"><a href="#SejongOhMethod-106"><span class="linenos">106</span></a>                                                                            <span class="n">n_repeat</span><span class="o">=</span><span class="n">n_repeat</span><span class="p">,</span>
</span><span id="SejongOhMethod-107"><a href="#SejongOhMethod-107"><span class="linenos">107</span></a>                                                                            <span class="n">features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span>
</span><span id="SejongOhMethod-108"><a href="#SejongOhMethod-108"><span class="linenos">108</span></a>                                                                            <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sejong Oh's Performance Based Method for Feature Interaction Extraction. </p>

<h6 id="attributes">Attributes</h6>

<ul>
<li><strong>method</strong> (str):
Method name, used also for naming column with results in <code>ovo</code> pd.DataFrame.</li>
<li><strong>visualizer</strong> (Visualizer):
Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</li>
<li><strong>ovo</strong> (pd.DataFrame):
One versus one (pair) feature interaction values.</li>
<li><strong>feature_importance</strong> (pd.DataFrame):
Feature importance values.</li>
<li><strong>metric</strong> (Metric):
Metric used for calculating performance.</li>
<li><strong>model</strong> (object):
Explained model.</li>
<li><strong>X_sampled</strong> (pd.DataFrame):
Sampled data used for calculation.</li>
<li><strong>y_sampled</strong> (np.array or pd.Series):
Sampled target values used for calculation.</li>
<li><strong>features_included</strong> (List[str]):
List of features for which interactions are calculated.</li>
<li><strong>pairs</strong> (List[List[str]]):
List of pairs of features for which interactions are calculated.</li>
<li><strong>random_state</strong> (int):
Random state used for reproducibility.</li>
</ul>

<h6 id="references">References</h6>

<ul>
<li><a href="https://www.mdpi.com/2076-3417/9/23/5191">https://www.mdpi.com/2076-3417/9/23/5191</a></li>
</ul>
</div>


                            <div id="SejongOhMethod.__init__" class="classattr">
                                        <input id="SejongOhMethod.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SejongOhMethod</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">metric</span><span class="p">:</span> <span class="n"><a href="../_utilities/performance_metrics.html#Metric">artemis._utilities.performance_metrics.Metric</a></span> <span class="o">=</span> <span class="o">&lt;</span><span class="n"><a href="../_utilities/performance_metrics.html#RMSE">artemis._utilities.performance_metrics.RMSE</a></span> <span class="nb">object</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="SejongOhMethod.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SejongOhMethod.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SejongOhMethod.__init__-50"><a href="#SejongOhMethod.__init__-50"><span class="linenos">50</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="n">Metric</span> <span class="o">=</span> <span class="n">RMSE</span><span class="p">(),</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="SejongOhMethod.__init__-51"><a href="#SejongOhMethod.__init__-51"><span class="linenos">51</span></a>        <span class="sd">&quot;&quot;&quot;Constructor for SejongOhMethod</span>
</span><span id="SejongOhMethod.__init__-52"><a href="#SejongOhMethod.__init__-52"><span class="linenos">52</span></a><span class="sd">        </span>
</span><span id="SejongOhMethod.__init__-53"><a href="#SejongOhMethod.__init__-53"><span class="linenos">53</span></a><span class="sd">        Parameters</span>
</span><span id="SejongOhMethod.__init__-54"><a href="#SejongOhMethod.__init__-54"><span class="linenos">54</span></a><span class="sd">        ----------</span>
</span><span id="SejongOhMethod.__init__-55"><a href="#SejongOhMethod.__init__-55"><span class="linenos">55</span></a><span class="sd">        metric : Metric</span>
</span><span id="SejongOhMethod.__init__-56"><a href="#SejongOhMethod.__init__-56"><span class="linenos">56</span></a><span class="sd">            Metric used to calculate model performance. Defaults to RMSE().</span>
</span><span id="SejongOhMethod.__init__-57"><a href="#SejongOhMethod.__init__-57"><span class="linenos">57</span></a><span class="sd">        random_state : int, optional </span>
</span><span id="SejongOhMethod.__init__-58"><a href="#SejongOhMethod.__init__-58"><span class="linenos">58</span></a><span class="sd">            Random state for reproducibility. Defaults to None.</span>
</span><span id="SejongOhMethod.__init__-59"><a href="#SejongOhMethod.__init__-59"><span class="linenos">59</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SejongOhMethod.__init__-60"><a href="#SejongOhMethod.__init__-60"><span class="linenos">60</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">InteractionMethod</span><span class="o">.</span><span class="n">PERFORMANCE_BASED</span><span class="p">,</span> <span class="n">random_state</span><span class="p">)</span>
</span><span id="SejongOhMethod.__init__-61"><a href="#SejongOhMethod.__init__-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">=</span> <span class="n">metric</span>
</span><span id="SejongOhMethod.__init__-62"><a href="#SejongOhMethod.__init__-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Constructor for SejongOhMethod</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>metric</strong> (Metric):
Metric used to calculate model performance. Defaults to RMSE().</li>
<li><strong>random_state</strong> (int, optional):
Random state for reproducibility. Defaults to None.</li>
</ul>
</div>


                            </div>
                            <div id="SejongOhMethod.fit" class="classattr">
                                        <input id="SejongOhMethod.fit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fit</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">model</span>,</span><span class="param">	<span class="n">X</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">y_true</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="o">&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span> <span class="n">array</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span><span class="p">]</span>,</span><span class="param">	<span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">n_repeat</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>,</span><span class="param">	<span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SejongOhMethod.fit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SejongOhMethod.fit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SejongOhMethod.fit-68"><a href="#SejongOhMethod.fit-68"><span class="linenos"> 68</span></a>    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span>
</span><span id="SejongOhMethod.fit-69"><a href="#SejongOhMethod.fit-69"><span class="linenos"> 69</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-70"><a href="#SejongOhMethod.fit-70"><span class="linenos"> 70</span></a>            <span class="n">model</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-71"><a href="#SejongOhMethod.fit-71"><span class="linenos"> 71</span></a>            <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-72"><a href="#SejongOhMethod.fit-72"><span class="linenos"> 72</span></a>            <span class="n">y_true</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span>  
</span><span id="SejongOhMethod.fit-73"><a href="#SejongOhMethod.fit-73"><span class="linenos"> 73</span></a>            <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-74"><a href="#SejongOhMethod.fit-74"><span class="linenos"> 74</span></a>            <span class="n">n_repeat</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-75"><a href="#SejongOhMethod.fit-75"><span class="linenos"> 75</span></a>            <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-76"><a href="#SejongOhMethod.fit-76"><span class="linenos"> 76</span></a>            <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-77"><a href="#SejongOhMethod.fit-77"><span class="linenos"> 77</span></a>    <span class="p">):</span>  
</span><span id="SejongOhMethod.fit-78"><a href="#SejongOhMethod.fit-78"><span class="linenos"> 78</span></a>        <span class="sd">&quot;&quot;&quot;Calculates Performance Based Feature Interactions Strength and Permutation Based Feature Importance for the given model.</span>
</span><span id="SejongOhMethod.fit-79"><a href="#SejongOhMethod.fit-79"><span class="linenos"> 79</span></a>
</span><span id="SejongOhMethod.fit-80"><a href="#SejongOhMethod.fit-80"><span class="linenos"> 80</span></a><span class="sd">        Parameters</span>
</span><span id="SejongOhMethod.fit-81"><a href="#SejongOhMethod.fit-81"><span class="linenos"> 81</span></a><span class="sd">        ----------</span>
</span><span id="SejongOhMethod.fit-82"><a href="#SejongOhMethod.fit-82"><span class="linenos"> 82</span></a><span class="sd">        model : object</span>
</span><span id="SejongOhMethod.fit-83"><a href="#SejongOhMethod.fit-83"><span class="linenos"> 83</span></a><span class="sd">            Model to be explained, should have predict method.</span>
</span><span id="SejongOhMethod.fit-84"><a href="#SejongOhMethod.fit-84"><span class="linenos"> 84</span></a><span class="sd">        X : pd.DataFrame</span>
</span><span id="SejongOhMethod.fit-85"><a href="#SejongOhMethod.fit-85"><span class="linenos"> 85</span></a><span class="sd">            Data used to calculate interactions. If n is not None, n rows from X will be sampled. </span>
</span><span id="SejongOhMethod.fit-86"><a href="#SejongOhMethod.fit-86"><span class="linenos"> 86</span></a><span class="sd">        y_true : np.array or pd.Series</span>
</span><span id="SejongOhMethod.fit-87"><a href="#SejongOhMethod.fit-87"><span class="linenos"> 87</span></a><span class="sd">            Target values for X data. </span>
</span><span id="SejongOhMethod.fit-88"><a href="#SejongOhMethod.fit-88"><span class="linenos"> 88</span></a><span class="sd">        n : int, optional</span>
</span><span id="SejongOhMethod.fit-89"><a href="#SejongOhMethod.fit-89"><span class="linenos"> 89</span></a><span class="sd">            Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</span>
</span><span id="SejongOhMethod.fit-90"><a href="#SejongOhMethod.fit-90"><span class="linenos"> 90</span></a><span class="sd">        n_repeat : int, optional</span>
</span><span id="SejongOhMethod.fit-91"><a href="#SejongOhMethod.fit-91"><span class="linenos"> 91</span></a><span class="sd">            Number of permutations. Default is 10.</span>
</span><span id="SejongOhMethod.fit-92"><a href="#SejongOhMethod.fit-92"><span class="linenos"> 92</span></a><span class="sd">        features : List[str], optional</span>
</span><span id="SejongOhMethod.fit-93"><a href="#SejongOhMethod.fit-93"><span class="linenos"> 93</span></a><span class="sd">            List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</span>
</span><span id="SejongOhMethod.fit-94"><a href="#SejongOhMethod.fit-94"><span class="linenos"> 94</span></a><span class="sd">        show_progress : bool</span>
</span><span id="SejongOhMethod.fit-95"><a href="#SejongOhMethod.fit-95"><span class="linenos"> 95</span></a><span class="sd">            If True, progress bar will be shown. Default is False.</span>
</span><span id="SejongOhMethod.fit-96"><a href="#SejongOhMethod.fit-96"><span class="linenos"> 96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SejongOhMethod.fit-97"><a href="#SejongOhMethod.fit-97"><span class="linenos"> 97</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span> <span class="o">=</span> <span class="n">sample_both_if_not_none</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_random_generator</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</span><span id="SejongOhMethod.fit-98"><a href="#SejongOhMethod.fit-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">features_included</span> <span class="o">=</span> <span class="n">all_if_none</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">features</span><span class="p">)</span>
</span><span id="SejongOhMethod.fit-99"><a href="#SejongOhMethod.fit-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pairs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="SejongOhMethod.fit-100"><a href="#SejongOhMethod.fit-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ovo</span> <span class="o">=</span> <span class="n">_perf_based_ovo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span><span class="p">,</span> <span class="n">n_repeat</span><span class="p">,</span> <span class="n">show_progress</span><span class="p">)</span>
</span><span id="SejongOhMethod.fit-101"><a href="#SejongOhMethod.fit-101"><span class="linenos">101</span></a>
</span><span id="SejongOhMethod.fit-102"><a href="#SejongOhMethod.fit-102"><span class="linenos">102</span></a>        <span class="c1"># calculate feature importance</span>
</span><span id="SejongOhMethod.fit-103"><a href="#SejongOhMethod.fit-103"><span class="linenos">103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span> <span class="o">=</span> <span class="n">PermutationImportance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">)</span>
</span><span id="SejongOhMethod.fit-104"><a href="#SejongOhMethod.fit-104"><span class="linenos">104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">feature_importance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_importance_obj</span><span class="o">.</span><span class="n">importance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">X_sampled</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-105"><a href="#SejongOhMethod.fit-105"><span class="linenos">105</span></a>                                                                            <span class="n">y_true</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_sampled</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-106"><a href="#SejongOhMethod.fit-106"><span class="linenos">106</span></a>                                                                            <span class="n">n_repeat</span><span class="o">=</span><span class="n">n_repeat</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-107"><a href="#SejongOhMethod.fit-107"><span class="linenos">107</span></a>                                                                            <span class="n">features</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">features_included</span><span class="p">,</span>
</span><span id="SejongOhMethod.fit-108"><a href="#SejongOhMethod.fit-108"><span class="linenos">108</span></a>                                                                            <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates Performance Based Feature Interactions Strength and Permutation Based Feature Importance for the given model.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model</strong> (object):
Model to be explained, should have predict method.</li>
<li><strong>X</strong> (pd.DataFrame):
Data used to calculate interactions. If n is not None, n rows from X will be sampled.</li>
<li><strong>y_true</strong> (np.array or pd.Series):
Target values for X data.</li>
<li><strong>n</strong> (int, optional):
Number of samples to be used for calculation of interactions. If None, all rows from X will be used. Default is None.</li>
<li><strong>n_repeat</strong> (int, optional):
Number of permutations. Default is 10.</li>
<li><strong>features</strong> (List[str], optional):
List of features for which interactions will be calculated. If None, all features from X will be used. Default is None.</li>
<li><strong>show_progress</strong> (bool):
If True, progress bar will be shown. Default is False.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="_method.html#FeatureInteractionMethod">artemis.interactions_methods._method.FeatureInteractionMethod</a></dt>
                                <dd id="SejongOhMethod.plot" class="function"><a href="_method.html#FeatureInteractionMethod.plot">plot</a></dd>
                <dd id="SejongOhMethod.interaction_value" class="function"><a href="_method.html#FeatureInteractionMethod.interaction_value">interaction_value</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>