<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>artemis.interactions_methods.model_specific API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>artemis.interactions_methods.model_specific</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from .gb_trees import SplitScoreMethod
from .random_forest import ConditionalMinimalDepthMethod

__all__ = [&#34;SplitScoreMethod&#34;, &#34;ConditionalMinimalDepthMethod&#34;]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="artemis.interactions_methods.model_specific.gb_trees" href="gb_trees/index.html">artemis.interactions_methods.model_specific.gb_trees</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="artemis.interactions_methods.model_specific.random_forest" href="random_forest/index.html">artemis.interactions_methods.model_specific.random_forest</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod"><code class="flex name class">
<span>class <span class="ident">ConditionalMinimalDepthMethod</span></span>
</code></dt>
<dd>
<div class="desc"><p>Conditional Smallest Depth Method for Feature Interaction Extraction.
It applies to tree-based models like Random Forests.
Currently scikit-learn forest models are supported, i.e., RandomForestClassifier, RandomForestRegressor,
ExtraTreesRegressor, ExtraTreesClassifier. </p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>method</code></strong> :&ensp;<code>str </code></dt>
<dd>Method name, used also for naming column with results in <code>ovo</code> pd.DataFrame.</dd>
<dt><strong><code>visualizer</code></strong> :&ensp;<code>Visualizer</code></dt>
<dd>Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</dd>
<dt><strong><code>ovo</code></strong> :&ensp;<code>pd.DataFrame </code></dt>
<dd>One versus one (pair) feature interaction values.</dd>
<dt><strong><code>feature_importance</code></strong> :&ensp;<code>pd.DataFrame </code></dt>
<dd>Feature importance values.</dd>
<dt><strong><code>model</code></strong> :&ensp;<code>object</code></dt>
<dd>Explained model.</dd>
<dt><strong><code>features_included</code></strong> :&ensp;<code>List[str]</code></dt>
<dd>List of features for which interactions are calculated.</dd>
<dt><strong><code>pairs</code></strong> :&ensp;<code>List[List[str]]</code></dt>
<dd>List of pairs of features for which interactions are calculated.</dd>
</dl>
<h2 id="references">References</h2>
<ul>
<li><a href="https://modeloriented.github.io/randomForestExplainer/">https://modeloriented.github.io/randomForestExplainer/</a></li>
<li><a href="https://doi.org/10.1198/jasa.2009.tm08622">https://doi.org/10.1198/jasa.2009.tm08622</a></li>
</ul>
<p>Constructor for ConditionalMinimalDepthMethod</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ConditionalMinimalDepthMethod(FeatureInteractionMethod):
    &#34;&#34;&#34;
    Conditional Smallest Depth Method for Feature Interaction Extraction.
    It applies to tree-based models like Random Forests.
    Currently scikit-learn forest models are supported, i.e., RandomForestClassifier, RandomForestRegressor, 
    ExtraTreesRegressor, ExtraTreesClassifier. 

    Attributes
    ----------
    method : str 
        Method name, used also for naming column with results in `ovo` pd.DataFrame.
    visualizer : Visualizer
        Object providing visualization. Automatically created on the basis of a method and used to create visualizations.
    ovo : pd.DataFrame 
        One versus one (pair) feature interaction values. 
    feature_importance : pd.DataFrame 
        Feature importance values.
    model : object
        Explained model.
    features_included: List[str]
        List of features for which interactions are calculated.
    pairs : List[List[str]]
        List of pairs of features for which interactions are calculated.

    References
    ----------
    - https://modeloriented.github.io/randomForestExplainer/
    - https://doi.org/10.1198/jasa.2009.tm08622
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;Constructor for ConditionalMinimalDepthMethod&#34;&#34;&#34;
        super().__init__(InteractionMethod.CONDITIONAL_MINIMAL_DEPTH)

    @property
    def _interactions_ascending_order(self):
        return True

    @property
    def _compare_ovo(self):
        if self.ovo is None:
            raise MethodNotFittedException(self.method)
        compare_ovo = self.ovo.copy().rename(columns={&#34;root_variable&#34;: &#34;Feature 1&#34;, &#34;variable&#34;: &#34;Feature 2&#34;})
        compare_ovo[&#39;id&#39;] = compare_ovo[[&#34;Feature 1&#34;, &#34;Feature 2&#34;]].apply(lambda x: &#34;&#34;.join(sorted(x)), axis=1)
        return (compare_ovo.groupby(&#34;id&#34;)
                           .agg({&#34;Feature 1&#34;: &#34;first&#34;, &#34;Feature 2&#34;: &#34;first&#34;, self.method: &#34;mean&#34;})
                           .sort_values(&#34;Conditional Smallest Depth Measure&#34;,
                                        ascending=self._interactions_ascending_order,
                                        ignore_index=True))


    def fit(
            self,
            model: Union[RandomForestClassifier, RandomForestRegressor, ExtraTreesRegressor, ExtraTreesClassifier],
            show_progress: bool = False,
    ):
        &#34;&#34;&#34;Calculates Conditional Smallest Depth Feature Interactions Strenght and Minimal Depth Feature Importance for given model.

        Parameters
        ----------
        model : RandomForestClassifier, RandomForestRegressor, ExtraTreesRegressor, or ExtraTreesClassifier
            Model to be explained. Should be fitted and of type RandomForestClassifier, RandomForestRegressor, 
            ExtraTreesRegressor, or ExtraTreesClassifier.
        show_progress : bool
            If True, progress bar will be shown. Default is False.
        &#34;&#34;&#34;
        self.features_included = model.feature_names_in_.tolist()
        self.pairs = list(combinations(self.features_included, 2))
        column_dict = _make_column_dict(model.feature_names_in_)
        self.raw_result_df, trees = _calculate_conditional_minimal_depths(model.estimators_, len(model.feature_names_in_), show_progress)
        self.ovo = _summarise_results(self.raw_result_df, column_dict, self.method, self._interactions_ascending_order)
        self._feature_importance_obj = MinimalDepthImportance()
        self.feature_importance = self._feature_importance_obj.importance(model,trees)

    def plot(self, vis_type: str = VisualizationType.HEATMAP, title: str = &#34;default&#34;, figsize: tuple = (8, 6), show: bool = True, **kwargs):
        &#34;&#34;&#34;
        Plot results of explanations.

        There are five types of plots available:
        - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
        - bar_chart - bar chart of top feature interactions values
        - graph - graph of feature interactions values
        - summary - combination of heatmap, bar chart and graph plots
        - bar_chart_conditional - bar chart of top feature interactions with additional information about feature importance
        
        Parameters
        ----------
        vis_type : str 
            Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;bar_chart_conditional&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.
        title : str 
            Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.
        figsize : (float, float) 
            Size of plot. Default is (8, 6).
        show : bool 
            Whether to show plot. Default is True.
        **kwargs : Other Parameters
            Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. 
            For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. 
            See key parameters below. 

        Other Parameters
        ------------------------
        interaction_color_map : matplotlib colormap name or object, or list of colors
            Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,
            depending on whether a greater value means a greater interaction strength or vice versa.
        importance_color_map :  matplotlib colormap name or object, or list of colors
            Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,
            depending on whether a greater value means a greater interaction strength or vice versa.
        annot_fmt : str
            Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.
        linewidths : float
            Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.
        linecolor : str
            Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.
        cbar_shrink : float
            Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. 
    
        top_k : int 
            Used for &#39;bar_chart&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 10.
        color : str 
            Used for &#39;bar_chart&#39; visualization. Color of bars. Default is &#39;mediumpurple&#39;.

        n_highest_with_labels : int
            Used for &#39;graph&#39; visualization. Top most important interactions to show as labels on edges.  Default is 5.
        edge_color: str
            Used for &#39;graph&#39; visualization. Color of the edges. Default is &#39;rebeccapurple.
        node_color: str
            Used for &#39;graph&#39; visualization. Color of nodes. Default is &#39;green&#39;.
        node_size: int
            Used for &#39;graph&#39; visualization. Size of the nodes (networkX scale).  Default is &#39;1800&#39;.
        font_color: str
            Used for &#39;graph&#39; visualization. Font color. Default is &#39;#3B1F2B&#39;.
        font_weight: str
            Used for &#39;graph&#39; visualization. Font weight. Default is &#39;bold&#39;.
        font_size: int
            Used for &#39;graph&#39; visualization. Font size (networkX scale). Default is 10.
        threshold_relevant_interaction : float
            Used for &#39;graph&#39; visualization. Minimum (or maximum, depends on method) value of interaction to display
            corresponding edge on visualization. Default depends on the interaction method.
        
        top_k : int 
            Used for &#39;bar_chart_conditional&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 15. 
        cmap : matplotlib colormap name or object.
            Used for &#39;bar_chart_conditional&#39; visualization. The mapping from number of pair occurences to color space. Default is &#39;Purples&#39;. 
        color : str
            Used for &#39;bar_chart_conditional&#39; visualization. Color of lollipops for parent features. Default is &#39;black&#39;. 
        &#34;&#34;&#34;
        if self.ovo is None:
            raise MethodNotFittedException(self.method)

        self.visualizer.plot(self.ovo,
                             vis_type,
                             _feature_column_name_1=&#34;root_variable&#34;,
                             _feature_column_name_2=&#34;variable&#34;,
                             _directed=True,
                             feature_importance=self.feature_importance,
                             title = title,
                             figsize=figsize,
                             show=show,
                             interactions_ascending_order=self._interactions_ascending_order,
                             importance_ascending_order=self._feature_importance_obj.importance_ascending_order,
                             **kwargs)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>artemis.interactions_methods._method.FeatureInteractionMethod</li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.fit"><code class="name flex">
<span>def <span class="ident">fit</span></span>(<span>self, model: Union[sklearn.ensemble._forest.RandomForestClassifier, sklearn.ensemble._forest.RandomForestRegressor, sklearn.ensemble._forest.ExtraTreesRegressor, sklearn.ensemble._forest.ExtraTreesClassifier], show_progress: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates Conditional Smallest Depth Feature Interactions Strenght and Minimal Depth Feature Importance for given model.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>model</code></strong> :&ensp;<code>RandomForestClassifier, RandomForestRegressor, ExtraTreesRegressor,</code> or <code>ExtraTreesClassifier</code></dt>
<dd>Model to be explained. Should be fitted and of type RandomForestClassifier, RandomForestRegressor,
ExtraTreesRegressor, or ExtraTreesClassifier.</dd>
<dt><strong><code>show_progress</code></strong> :&ensp;<code>bool</code></dt>
<dd>If True, progress bar will be shown. Default is False.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def fit(
        self,
        model: Union[RandomForestClassifier, RandomForestRegressor, ExtraTreesRegressor, ExtraTreesClassifier],
        show_progress: bool = False,
):
    &#34;&#34;&#34;Calculates Conditional Smallest Depth Feature Interactions Strenght and Minimal Depth Feature Importance for given model.

    Parameters
    ----------
    model : RandomForestClassifier, RandomForestRegressor, ExtraTreesRegressor, or ExtraTreesClassifier
        Model to be explained. Should be fitted and of type RandomForestClassifier, RandomForestRegressor, 
        ExtraTreesRegressor, or ExtraTreesClassifier.
    show_progress : bool
        If True, progress bar will be shown. Default is False.
    &#34;&#34;&#34;
    self.features_included = model.feature_names_in_.tolist()
    self.pairs = list(combinations(self.features_included, 2))
    column_dict = _make_column_dict(model.feature_names_in_)
    self.raw_result_df, trees = _calculate_conditional_minimal_depths(model.estimators_, len(model.feature_names_in_), show_progress)
    self.ovo = _summarise_results(self.raw_result_df, column_dict, self.method, self._interactions_ascending_order)
    self._feature_importance_obj = MinimalDepthImportance()
    self.feature_importance = self._feature_importance_obj.importance(model,trees)</code></pre>
</details>
</dd>
<dt id="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.plot"><code class="name flex">
<span>def <span class="ident">plot</span></span>(<span>self, vis_type: str = 'heatmap', title: str = 'default', figsize: tuple = (8, 6), show: bool = True, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Plot results of explanations.</p>
<p>There are five types of plots available:
- heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
- bar_chart - bar chart of top feature interactions values
- graph - graph of feature interactions values
- summary - combination of heatmap, bar chart and graph plots
- bar_chart_conditional - bar chart of top feature interactions with additional information about feature importance</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>vis_type</code></strong> :&ensp;<code>str </code></dt>
<dd>Type of visualization, one of ['heatmap', 'bar_chart', 'graph', 'bar_chart_conditional', 'summary']. Default is 'heatmap'.</dd>
<dt><strong><code>title</code></strong> :&ensp;<code>str </code></dt>
<dd>Title of plot, default is 'default' which means that title will be automatically generated for selected visualization type.</dd>
<dt><strong><code>figsize</code></strong> :&ensp;<code>(float, float) </code></dt>
<dd>Size of plot. Default is (8, 6).</dd>
<dt><strong><code>show</code></strong> :&ensp;<code>bool </code></dt>
<dd>Whether to show plot. Default is True.</dd>
<dt><strong><code>**kwargs</code></strong> :&ensp;<code>Other Parameters</code></dt>
<dd>Additional parameters for plot. Passed to suitable matplotlib or seaborn functions.
For 'summary' visualization parameters for respective plots should be in dict with keys corresponding to visualization name.
See key parameters below.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>interaction_color_map</code></strong> :&ensp;<code>matplotlib colormap name</code> or <code>object,</code> or <code>list</code> of <code>colors</code></dt>
<dd>Used for 'heatmap' visualization. The mapping from interaction values to color space. Default is 'Purples' or 'Purpler_r',
depending on whether a greater value means a greater interaction strength or vice versa.</dd>
<dt><strong><code>importance_color_map</code></strong> :&ensp;<code> matplotlib colormap name</code> or <code>object,</code> or <code>list</code> of <code>colors</code></dt>
<dd>Used for 'heatmap' visualization. The mapping from importance values to color space. Default is 'Greens' or 'Greens_r',
depending on whether a greater value means a greater interaction strength or vice versa.</dd>
<dt><strong><code>annot_fmt</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'heatmap' visualization. String formatting code to use when adding annotations with values. Default is '.3f'.</dd>
<dt><strong><code>linewidths</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'heatmap' visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.</dd>
<dt><strong><code>linecolor</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'heatmap' visualization. Color of the lines that will divide each cell in matrix. Default is 'white'.</dd>
<dt><strong><code>cbar_shrink</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'heatmap' visualization. Fraction by which to multiply the size of the colorbar. Default is 1.</dd>
<dt><strong><code>top_k</code></strong> :&ensp;<code>int </code></dt>
<dd>Used for 'bar_chart' visualization. Maximum number of pairs that will be presented in plot. Default is 10.</dd>
<dt><strong><code>color</code></strong> :&ensp;<code>str </code></dt>
<dd>Used for 'bar_chart' visualization. Color of bars. Default is 'mediumpurple'.</dd>
<dt><strong><code>n_highest_with_labels</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Top most important interactions to show as labels on edges.
Default is 5.</dd>
<dt><strong><code>edge_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Color of the edges. Default is 'rebeccapurple.</dd>
<dt><strong><code>node_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Color of nodes. Default is 'green'.</dd>
<dt><strong><code>node_size</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Size of the nodes (networkX scale).
Default is '1800'.</dd>
<dt><strong><code>font_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Font color. Default is '#3B1F2B'.</dd>
<dt><strong><code>font_weight</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Font weight. Default is 'bold'.</dd>
<dt><strong><code>font_size</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Font size (networkX scale). Default is 10.</dd>
<dt><strong><code>threshold_relevant_interaction</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'graph' visualization. Minimum (or maximum, depends on method) value of interaction to display
corresponding edge on visualization. Default depends on the interaction method.</dd>
<dt><strong><code>top_k</code></strong> :&ensp;<code>int </code></dt>
<dd>Used for 'bar_chart_conditional' visualization. Maximum number of pairs that will be presented in plot. Default is 15.</dd>
<dt>cmap : matplotlib colormap name or object.</dt>
<dt>Used for 'bar_chart_conditional' visualization. The mapping from number of pair occurences to color space. Default is 'Purples'.</dt>
<dt><strong><code>color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'bar_chart_conditional' visualization. Color of lollipops for parent features. Default is 'black'.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def plot(self, vis_type: str = VisualizationType.HEATMAP, title: str = &#34;default&#34;, figsize: tuple = (8, 6), show: bool = True, **kwargs):
    &#34;&#34;&#34;
    Plot results of explanations.

    There are five types of plots available:
    - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
    - bar_chart - bar chart of top feature interactions values
    - graph - graph of feature interactions values
    - summary - combination of heatmap, bar chart and graph plots
    - bar_chart_conditional - bar chart of top feature interactions with additional information about feature importance
    
    Parameters
    ----------
    vis_type : str 
        Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;bar_chart_conditional&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.
    title : str 
        Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.
    figsize : (float, float) 
        Size of plot. Default is (8, 6).
    show : bool 
        Whether to show plot. Default is True.
    **kwargs : Other Parameters
        Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. 
        For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. 
        See key parameters below. 

    Other Parameters
    ------------------------
    interaction_color_map : matplotlib colormap name or object, or list of colors
        Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,
        depending on whether a greater value means a greater interaction strength or vice versa.
    importance_color_map :  matplotlib colormap name or object, or list of colors
        Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,
        depending on whether a greater value means a greater interaction strength or vice versa.
    annot_fmt : str
        Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.
    linewidths : float
        Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.
    linecolor : str
        Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.
    cbar_shrink : float
        Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. 

    top_k : int 
        Used for &#39;bar_chart&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 10.
    color : str 
        Used for &#39;bar_chart&#39; visualization. Color of bars. Default is &#39;mediumpurple&#39;.

    n_highest_with_labels : int
        Used for &#39;graph&#39; visualization. Top most important interactions to show as labels on edges.  Default is 5.
    edge_color: str
        Used for &#39;graph&#39; visualization. Color of the edges. Default is &#39;rebeccapurple.
    node_color: str
        Used for &#39;graph&#39; visualization. Color of nodes. Default is &#39;green&#39;.
    node_size: int
        Used for &#39;graph&#39; visualization. Size of the nodes (networkX scale).  Default is &#39;1800&#39;.
    font_color: str
        Used for &#39;graph&#39; visualization. Font color. Default is &#39;#3B1F2B&#39;.
    font_weight: str
        Used for &#39;graph&#39; visualization. Font weight. Default is &#39;bold&#39;.
    font_size: int
        Used for &#39;graph&#39; visualization. Font size (networkX scale). Default is 10.
    threshold_relevant_interaction : float
        Used for &#39;graph&#39; visualization. Minimum (or maximum, depends on method) value of interaction to display
        corresponding edge on visualization. Default depends on the interaction method.
    
    top_k : int 
        Used for &#39;bar_chart_conditional&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 15. 
    cmap : matplotlib colormap name or object.
        Used for &#39;bar_chart_conditional&#39; visualization. The mapping from number of pair occurences to color space. Default is &#39;Purples&#39;. 
    color : str
        Used for &#39;bar_chart_conditional&#39; visualization. Color of lollipops for parent features. Default is &#39;black&#39;. 
    &#34;&#34;&#34;
    if self.ovo is None:
        raise MethodNotFittedException(self.method)

    self.visualizer.plot(self.ovo,
                         vis_type,
                         _feature_column_name_1=&#34;root_variable&#34;,
                         _feature_column_name_2=&#34;variable&#34;,
                         _directed=True,
                         feature_importance=self.feature_importance,
                         title = title,
                         figsize=figsize,
                         show=show,
                         interactions_ascending_order=self._interactions_ascending_order,
                         importance_ascending_order=self._feature_importance_obj.importance_ascending_order,
                         **kwargs)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="artemis.interactions_methods.model_specific.SplitScoreMethod"><code class="flex name class">
<span>class <span class="ident">SplitScoreMethod</span></span>
</code></dt>
<dd>
<div class="desc"><p>Split Score Method for Feature Interaction Extraction.
It applies to gradient boosting tree-based models.
Currently model from LightGBM and XGBoost packages are supported. </p>
<p>Strength of interaction is defined by the metric selected by user (default is sum of gains).</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>method</code></strong> :&ensp;<code>str </code></dt>
<dd>Method name, used also for naming column with results in <code>ovo</code> pd.DataFrame.</dd>
<dt><strong><code>visualizer</code></strong> :&ensp;<code>Visualizer</code></dt>
<dd>Object providing visualization. Automatically created on the basis of a method and used to create visualizations.</dd>
<dt><strong><code>ovo</code></strong> :&ensp;<code>pd.DataFrame </code></dt>
<dd>One versus one (pair) feature interaction values.</dd>
<dt><strong><code>feature_importance</code></strong> :&ensp;<code>pd.DataFrame </code></dt>
<dd>Feature importance values.</dd>
<dt><strong><code>model</code></strong> :&ensp;<code>object</code></dt>
<dd>Explained model.</dd>
<dt><strong><code>metric</code></strong> :&ensp;<code>str </code></dt>
<dd>Metric used to calculate strength of interactions.</dd>
<dt><strong><code>features_included</code></strong> :&ensp;<code>List[str]</code></dt>
<dd>List of features for which interactions are calculated.</dd>
<dt><strong><code>pairs</code></strong> :&ensp;<code>List[List[str]]</code></dt>
<dd>List of pairs of features for which interactions are calculated.</dd>
</dl>
<h2 id="references">References</h2>
<ul>
<li><a href="https://modeloriented.github.io/EIX/">https://modeloriented.github.io/EIX/</a></li>
</ul>
<p>Constructor for SplitScoreMethod</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SplitScoreMethod(FeatureInteractionMethod):
    &#34;&#34;&#34;
    Split Score Method for Feature Interaction Extraction.
    It applies to gradient boosting tree-based models.
    Currently model from LightGBM and XGBoost packages are supported. 

    Strength of interaction is defined by the metric selected by user (default is sum of gains).

    Attributes
    ----------
    method : str 
        Method name, used also for naming column with results in `ovo` pd.DataFrame.
    visualizer : Visualizer
        Object providing visualization. Automatically created on the basis of a method and used to create visualizations.
    ovo : pd.DataFrame 
        One versus one (pair) feature interaction values. 
    feature_importance : pd.DataFrame 
        Feature importance values.
    model : object
        Explained model.
    metric : str 
        Metric used to calculate strength of interactions.
    features_included: List[str]
        List of features for which interactions are calculated.
    pairs : List[List[str]]
        List of pairs of features for which interactions are calculated.

    References
    ----------
    - https://modeloriented.github.io/EIX/
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;Constructor for SplitScoreMethod&#34;&#34;&#34;
        super().__init__(InteractionMethod.SPLIT_SCORE)
        self.metric = None

    @property
    def _interactions_ascending_order(self):
        return self.metric in _ASCENDING_ORDER_METRICS

    def fit(
        self,
        model: GBTreesHandler,
        show_progress: bool = False,
        interaction_selected_metric: str = SplitScoreInteractionMetric.MEAN_GAIN,
        importance_selected_metric: str = SplitScoreImportanceMetric.MEAN_GAIN,
        only_def_interactions: bool = True,
    ):
        &#34;&#34;&#34;Calculates Split Score Feature Interactions Strength and Split Score Feature Importance for given model.

        Parameters
        ----------
        model : GBTreesHandler
            Model to be explained. Should be fitted and of type GBTreesHandler (otherwise it will be converted). 
        show_progress : bool
            If True, progress bar will be shown. Default is False.
        interaction_selected_metric : str 
            Metric used to calculate strength of interaction, 
            one of [&#39;sum_gain&#39;, &#39;sum_cover&#39;, &#39;mean_gain&#39;, &#39;mean_cover&#39;, &#39;mean_depth&#39;]. Default is &#39;mean_gain&#39;.
        importance_selected_metric : str 
            Metric used to calculate feature importance, 
            one of [&#39;sum_gain&#39;, &#39;sum_cover&#39;, &#39;mean_gain&#39;, &#39;mean_cover&#39;, &#39;mean_depth&#39;, 
            &#39;mean_weighted_depth&#39;, &#39;root_frequency&#39;, &#39;weighted_root_frequency&#39;].
            Default is &#39;mean_gain&#39;.
        only_def_interactions : bool 
            Whether to return only pair of sequential features that fulfill the definition of interaction 
            (with better split score for child feature).
        &#34;&#34;&#34;
        if not isinstance(model, GBTreesHandler):
            model = GBTreesHandler(model)
        self.metric = interaction_selected_metric
        _check_metrics_with_available_info(model.package, interaction_selected_metric, importance_selected_metric)
        self.full_result = _calculate_full_result(
            model.trees_df, model.package, show_progress
        )
        self.full_ovo = _get_summary(self.full_result, only_def_interactions)
        self.ovo = _get_ovo(self, self.full_ovo, interaction_selected_metric)

        # calculate feature importance
        self._feature_importance_obj = SplitScoreImportance()
        self.feature_importance = self._feature_importance_obj.importance(
            model=model,
            selected_metric=importance_selected_metric,
            trees_df=model.trees_df,
        )

    def plot(self, vis_type: str = VisualizationType.HEATMAP, title: str = &#34;default&#34;, figsize: tuple = (8, 6), show: bool = True, **kwargs):
        &#34;&#34;&#34;
        Plot results of explanations.

        There are five types of plots available:
        - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
        - bar_chart - bar chart of top feature interactions values
        - graph - graph of feature interactions values
        - summary - combination of heatmap, bar chart and graph plots
        - lolliplot - lolliplot for first k decision trees with split scores values.
        
        Parameters
        ----------
        vis_type : str 
            Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;lolliplot&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.
        title : str 
            Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.
        figsize : (float, float) 
            Size of plot. Default is (8, 6).
        show : bool 
            Whether to show plot. Default is True.
        **kwargs : Other Parameters
            Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. 
            For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. 
            See key parameters below. 
        
        Other Parameters
        ------------------------
        interaction_color_map : matplotlib colormap name or object, or list of colors
            Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,
            depending on whether a greater value means a greater interaction strength or vice versa.
        importance_color_map :  matplotlib colormap name or object, or list of colors
            Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,
            depending on whether a greater value means a greater interaction strength or vice versa.
        annot_fmt : str
            Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.
        linewidths : float
            Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.
        linecolor : str
            Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.
        cbar_shrink : float
            Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. 
    
        top_k : int 
            Used for &#39;bar_chart&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 10.
        color : str 
            Used for &#39;bar_chart&#39; visualization. Color of bars. Default is &#39;mediumpurple&#39;.

        n_highest_with_labels : int
            Used for &#39;graph&#39; visualization. Top most important interactions to show as labels on edges.  Default is 5.
        edge_color: str
            Used for &#39;graph&#39; visualization. Color of the edges. Default is &#39;rebeccapurple.
        node_color: str
            Used for &#39;graph&#39; visualization. Color of nodes. Default is &#39;green&#39;.
        node_size: int
            Used for &#39;graph&#39; visualization. Size of the nodes (networkX scale).  Default is &#39;1800&#39;.
        font_color: str
            Used for &#39;graph&#39; visualization. Font color. Default is &#39;#3B1F2B&#39;.
        font_weight: str
            Used for &#39;graph&#39; visualization. Font weight. Default is &#39;bold&#39;.
        font_size: int
            Used for &#39;graph&#39; visualization. Font size (networkX scale). Default is 10.
        threshold_relevant_interaction : float
            Used for &#39;graph&#39; visualization. Minimum (or maximum, depends on method) value of interaction to display
            corresponding edge on visualization. Default depends on the interaction method.

        max_trees : float
            Used for &#39;lolliplot&#39; visualization. Fraction of trees that will be presented in plot. Default is 0.2. 
        colors : List[str]
            Used for &#39;lolliplot&#39; visualization. List of colors for nodes with successive depths. 
            Default is [&#34;#e41a1c&#34;, &#34;#377eb8&#34;, &#34;#4daf4a&#34;, &#34;#984ea3&#34;, &#34;#ff7f00&#34;, &#34;#ffff33&#34;]. 
        shapes : List[str]
            Used for &#39;lolliplot&#39; visualization. List of shapes for nodes with successive depths. 
            Default is [&#34;o&#34;, &#34;,&#34;, &#34;v&#34;, &#34;^&#34;, &#34;&lt;&#34;, &#34;&gt;&#34;]. 
        max_depth : int
            Used for &#39;lolliplot&#39; visualization. Threshold for depth of nodes that will be presented in plot. Default is 1. 
        label_threshold : float
            Used for &#39;lolliplot&#39; visualization. Threshold for fraction of score of nodes that will be labeled in plot. Default is 0.1. 
        labels : bool
            Used for &#39;lolliplot&#39; visualization. Whether to add labels to plot. Default is True. 
        scale : str
            Used for &#39;lolliplot&#39; visualization. Scale for x axis (trees). Default is &#39;linear&#39;. 
        &#34;&#34;&#34;
        if self.ovo is None:
            raise MethodNotFittedException(self.method)
        self.visualizer.plot(self.ovo,
                             vis_type,
                             feature_importance=self.feature_importance,
                             title=title,
                             figsize=figsize,
                             show=show,
                             interactions_ascending_order=self._interactions_ascending_order,
                             importance_ascending_order=self._feature_importance_obj.importance_ascending_order,
                             _full_result=self.full_result,
                             **kwargs)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>artemis.interactions_methods._method.FeatureInteractionMethod</li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="artemis.interactions_methods.model_specific.SplitScoreMethod.fit"><code class="name flex">
<span>def <span class="ident">fit</span></span>(<span>self, model: artemis._utilities._handler.GBTreesHandler, show_progress: bool = False, interaction_selected_metric: str = 'mean_gain', importance_selected_metric: str = 'mean_gain', only_def_interactions: bool = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates Split Score Feature Interactions Strength and Split Score Feature Importance for given model.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>model</code></strong> :&ensp;<code>GBTreesHandler</code></dt>
<dd>Model to be explained. Should be fitted and of type GBTreesHandler (otherwise it will be converted).</dd>
<dt><strong><code>show_progress</code></strong> :&ensp;<code>bool</code></dt>
<dd>If True, progress bar will be shown. Default is False.</dd>
<dt><strong><code>interaction_selected_metric</code></strong> :&ensp;<code>str </code></dt>
<dd>Metric used to calculate strength of interaction,
one of ['sum_gain', 'sum_cover', 'mean_gain', 'mean_cover', 'mean_depth']. Default is 'mean_gain'.</dd>
<dt><strong><code>importance_selected_metric</code></strong> :&ensp;<code>str </code></dt>
<dd>Metric used to calculate feature importance,
one of ['sum_gain', 'sum_cover', 'mean_gain', 'mean_cover', 'mean_depth',
'mean_weighted_depth', 'root_frequency', 'weighted_root_frequency'].
Default is 'mean_gain'.</dd>
<dt><strong><code>only_def_interactions</code></strong> :&ensp;<code>bool </code></dt>
<dd>Whether to return only pair of sequential features that fulfill the definition of interaction
(with better split score for child feature).</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def fit(
    self,
    model: GBTreesHandler,
    show_progress: bool = False,
    interaction_selected_metric: str = SplitScoreInteractionMetric.MEAN_GAIN,
    importance_selected_metric: str = SplitScoreImportanceMetric.MEAN_GAIN,
    only_def_interactions: bool = True,
):
    &#34;&#34;&#34;Calculates Split Score Feature Interactions Strength and Split Score Feature Importance for given model.

    Parameters
    ----------
    model : GBTreesHandler
        Model to be explained. Should be fitted and of type GBTreesHandler (otherwise it will be converted). 
    show_progress : bool
        If True, progress bar will be shown. Default is False.
    interaction_selected_metric : str 
        Metric used to calculate strength of interaction, 
        one of [&#39;sum_gain&#39;, &#39;sum_cover&#39;, &#39;mean_gain&#39;, &#39;mean_cover&#39;, &#39;mean_depth&#39;]. Default is &#39;mean_gain&#39;.
    importance_selected_metric : str 
        Metric used to calculate feature importance, 
        one of [&#39;sum_gain&#39;, &#39;sum_cover&#39;, &#39;mean_gain&#39;, &#39;mean_cover&#39;, &#39;mean_depth&#39;, 
        &#39;mean_weighted_depth&#39;, &#39;root_frequency&#39;, &#39;weighted_root_frequency&#39;].
        Default is &#39;mean_gain&#39;.
    only_def_interactions : bool 
        Whether to return only pair of sequential features that fulfill the definition of interaction 
        (with better split score for child feature).
    &#34;&#34;&#34;
    if not isinstance(model, GBTreesHandler):
        model = GBTreesHandler(model)
    self.metric = interaction_selected_metric
    _check_metrics_with_available_info(model.package, interaction_selected_metric, importance_selected_metric)
    self.full_result = _calculate_full_result(
        model.trees_df, model.package, show_progress
    )
    self.full_ovo = _get_summary(self.full_result, only_def_interactions)
    self.ovo = _get_ovo(self, self.full_ovo, interaction_selected_metric)

    # calculate feature importance
    self._feature_importance_obj = SplitScoreImportance()
    self.feature_importance = self._feature_importance_obj.importance(
        model=model,
        selected_metric=importance_selected_metric,
        trees_df=model.trees_df,
    )</code></pre>
</details>
</dd>
<dt id="artemis.interactions_methods.model_specific.SplitScoreMethod.plot"><code class="name flex">
<span>def <span class="ident">plot</span></span>(<span>self, vis_type: str = 'heatmap', title: str = 'default', figsize: tuple = (8, 6), show: bool = True, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Plot results of explanations.</p>
<p>There are five types of plots available:
- heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
- bar_chart - bar chart of top feature interactions values
- graph - graph of feature interactions values
- summary - combination of heatmap, bar chart and graph plots
- lolliplot - lolliplot for first k decision trees with split scores values.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>vis_type</code></strong> :&ensp;<code>str </code></dt>
<dd>Type of visualization, one of ['heatmap', 'bar_chart', 'graph', 'lolliplot', 'summary']. Default is 'heatmap'.</dd>
<dt><strong><code>title</code></strong> :&ensp;<code>str </code></dt>
<dd>Title of plot, default is 'default' which means that title will be automatically generated for selected visualization type.</dd>
<dt><strong><code>figsize</code></strong> :&ensp;<code>(float, float) </code></dt>
<dd>Size of plot. Default is (8, 6).</dd>
<dt><strong><code>show</code></strong> :&ensp;<code>bool </code></dt>
<dd>Whether to show plot. Default is True.</dd>
<dt><strong><code>**kwargs</code></strong> :&ensp;<code>Other Parameters</code></dt>
<dd>Additional parameters for plot. Passed to suitable matplotlib or seaborn functions.
For 'summary' visualization parameters for respective plots should be in dict with keys corresponding to visualization name.
See key parameters below.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>interaction_color_map</code></strong> :&ensp;<code>matplotlib colormap name</code> or <code>object,</code> or <code>list</code> of <code>colors</code></dt>
<dd>Used for 'heatmap' visualization. The mapping from interaction values to color space. Default is 'Purples' or 'Purpler_r',
depending on whether a greater value means a greater interaction strength or vice versa.</dd>
<dt><strong><code>importance_color_map</code></strong> :&ensp;<code> matplotlib colormap name</code> or <code>object,</code> or <code>list</code> of <code>colors</code></dt>
<dd>Used for 'heatmap' visualization. The mapping from importance values to color space. Default is 'Greens' or 'Greens_r',
depending on whether a greater value means a greater interaction strength or vice versa.</dd>
<dt><strong><code>annot_fmt</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'heatmap' visualization. String formatting code to use when adding annotations with values. Default is '.3f'.</dd>
<dt><strong><code>linewidths</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'heatmap' visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.</dd>
<dt><strong><code>linecolor</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'heatmap' visualization. Color of the lines that will divide each cell in matrix. Default is 'white'.</dd>
<dt><strong><code>cbar_shrink</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'heatmap' visualization. Fraction by which to multiply the size of the colorbar. Default is 1.</dd>
<dt><strong><code>top_k</code></strong> :&ensp;<code>int </code></dt>
<dd>Used for 'bar_chart' visualization. Maximum number of pairs that will be presented in plot. Default is 10.</dd>
<dt><strong><code>color</code></strong> :&ensp;<code>str </code></dt>
<dd>Used for 'bar_chart' visualization. Color of bars. Default is 'mediumpurple'.</dd>
<dt><strong><code>n_highest_with_labels</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Top most important interactions to show as labels on edges.
Default is 5.</dd>
<dt><strong><code>edge_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Color of the edges. Default is 'rebeccapurple.</dd>
<dt><strong><code>node_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Color of nodes. Default is 'green'.</dd>
<dt><strong><code>node_size</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Size of the nodes (networkX scale).
Default is '1800'.</dd>
<dt><strong><code>font_color</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Font color. Default is '#3B1F2B'.</dd>
<dt><strong><code>font_weight</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'graph' visualization. Font weight. Default is 'bold'.</dd>
<dt><strong><code>font_size</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'graph' visualization. Font size (networkX scale). Default is 10.</dd>
<dt><strong><code>threshold_relevant_interaction</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'graph' visualization. Minimum (or maximum, depends on method) value of interaction to display
corresponding edge on visualization. Default depends on the interaction method.</dd>
<dt><strong><code>max_trees</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'lolliplot' visualization. Fraction of trees that will be presented in plot. Default is 0.2.</dd>
<dt><strong><code>colors</code></strong> :&ensp;<code>List[str]</code></dt>
<dd>Used for 'lolliplot' visualization. List of colors for nodes with successive depths.
Default is ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33"].</dd>
<dt><strong><code>shapes</code></strong> :&ensp;<code>List[str]</code></dt>
<dd>Used for 'lolliplot' visualization. List of shapes for nodes with successive depths.
Default is ["o", ",", "v", "^", "&lt;", "&gt;"].</dd>
<dt><strong><code>max_depth</code></strong> :&ensp;<code>int</code></dt>
<dd>Used for 'lolliplot' visualization. Threshold for depth of nodes that will be presented in plot. Default is 1.</dd>
<dt><strong><code>label_threshold</code></strong> :&ensp;<code>float</code></dt>
<dd>Used for 'lolliplot' visualization. Threshold for fraction of score of nodes that will be labeled in plot. Default is 0.1.</dd>
<dt><strong><code>labels</code></strong> :&ensp;<code>bool</code></dt>
<dd>Used for 'lolliplot' visualization. Whether to add labels to plot. Default is True.</dd>
<dt><strong><code>scale</code></strong> :&ensp;<code>str</code></dt>
<dd>Used for 'lolliplot' visualization. Scale for x axis (trees). Default is 'linear'.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def plot(self, vis_type: str = VisualizationType.HEATMAP, title: str = &#34;default&#34;, figsize: tuple = (8, 6), show: bool = True, **kwargs):
    &#34;&#34;&#34;
    Plot results of explanations.

    There are five types of plots available:
    - heatmap - heatmap of feature interactions values with feature importance values on the diagonal (default)
    - bar_chart - bar chart of top feature interactions values
    - graph - graph of feature interactions values
    - summary - combination of heatmap, bar chart and graph plots
    - lolliplot - lolliplot for first k decision trees with split scores values.
    
    Parameters
    ----------
    vis_type : str 
        Type of visualization, one of [&#39;heatmap&#39;, &#39;bar_chart&#39;, &#39;graph&#39;, &#39;lolliplot&#39;, &#39;summary&#39;]. Default is &#39;heatmap&#39;.
    title : str 
        Title of plot, default is &#39;default&#39; which means that title will be automatically generated for selected visualization type.
    figsize : (float, float) 
        Size of plot. Default is (8, 6).
    show : bool 
        Whether to show plot. Default is True.
    **kwargs : Other Parameters
        Additional parameters for plot. Passed to suitable matplotlib or seaborn functions. 
        For &#39;summary&#39; visualization parameters for respective plots should be in dict with keys corresponding to visualization name. 
        See key parameters below. 
    
    Other Parameters
    ------------------------
    interaction_color_map : matplotlib colormap name or object, or list of colors
        Used for &#39;heatmap&#39; visualization. The mapping from interaction values to color space. Default is &#39;Purples&#39; or &#39;Purpler_r&#39;,
        depending on whether a greater value means a greater interaction strength or vice versa.
    importance_color_map :  matplotlib colormap name or object, or list of colors
        Used for &#39;heatmap&#39; visualization. The mapping from importance values to color space. Default is &#39;Greens&#39; or &#39;Greens_r&#39;,
        depending on whether a greater value means a greater interaction strength or vice versa.
    annot_fmt : str
        Used for &#39;heatmap&#39; visualization. String formatting code to use when adding annotations with values. Default is &#39;.3f&#39;.
    linewidths : float
        Used for &#39;heatmap&#39; visualization. Width of the lines that will divide each cell in matrix. Default is 0.5.
    linecolor : str
        Used for &#39;heatmap&#39; visualization. Color of the lines that will divide each cell in matrix. Default is &#39;white&#39;.
    cbar_shrink : float
        Used for &#39;heatmap&#39; visualization. Fraction by which to multiply the size of the colorbar. Default is 1. 

    top_k : int 
        Used for &#39;bar_chart&#39; visualization. Maximum number of pairs that will be presented in plot. Default is 10.
    color : str 
        Used for &#39;bar_chart&#39; visualization. Color of bars. Default is &#39;mediumpurple&#39;.

    n_highest_with_labels : int
        Used for &#39;graph&#39; visualization. Top most important interactions to show as labels on edges.  Default is 5.
    edge_color: str
        Used for &#39;graph&#39; visualization. Color of the edges. Default is &#39;rebeccapurple.
    node_color: str
        Used for &#39;graph&#39; visualization. Color of nodes. Default is &#39;green&#39;.
    node_size: int
        Used for &#39;graph&#39; visualization. Size of the nodes (networkX scale).  Default is &#39;1800&#39;.
    font_color: str
        Used for &#39;graph&#39; visualization. Font color. Default is &#39;#3B1F2B&#39;.
    font_weight: str
        Used for &#39;graph&#39; visualization. Font weight. Default is &#39;bold&#39;.
    font_size: int
        Used for &#39;graph&#39; visualization. Font size (networkX scale). Default is 10.
    threshold_relevant_interaction : float
        Used for &#39;graph&#39; visualization. Minimum (or maximum, depends on method) value of interaction to display
        corresponding edge on visualization. Default depends on the interaction method.

    max_trees : float
        Used for &#39;lolliplot&#39; visualization. Fraction of trees that will be presented in plot. Default is 0.2. 
    colors : List[str]
        Used for &#39;lolliplot&#39; visualization. List of colors for nodes with successive depths. 
        Default is [&#34;#e41a1c&#34;, &#34;#377eb8&#34;, &#34;#4daf4a&#34;, &#34;#984ea3&#34;, &#34;#ff7f00&#34;, &#34;#ffff33&#34;]. 
    shapes : List[str]
        Used for &#39;lolliplot&#39; visualization. List of shapes for nodes with successive depths. 
        Default is [&#34;o&#34;, &#34;,&#34;, &#34;v&#34;, &#34;^&#34;, &#34;&lt;&#34;, &#34;&gt;&#34;]. 
    max_depth : int
        Used for &#39;lolliplot&#39; visualization. Threshold for depth of nodes that will be presented in plot. Default is 1. 
    label_threshold : float
        Used for &#39;lolliplot&#39; visualization. Threshold for fraction of score of nodes that will be labeled in plot. Default is 0.1. 
    labels : bool
        Used for &#39;lolliplot&#39; visualization. Whether to add labels to plot. Default is True. 
    scale : str
        Used for &#39;lolliplot&#39; visualization. Scale for x axis (trees). Default is &#39;linear&#39;. 
    &#34;&#34;&#34;
    if self.ovo is None:
        raise MethodNotFittedException(self.method)
    self.visualizer.plot(self.ovo,
                         vis_type,
                         feature_importance=self.feature_importance,
                         title=title,
                         figsize=figsize,
                         show=show,
                         interactions_ascending_order=self._interactions_ascending_order,
                         importance_ascending_order=self._feature_importance_obj.importance_ascending_order,
                         _full_result=self.full_result,
                         **kwargs)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="artemis.interactions_methods" href="../index.html">artemis.interactions_methods</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="artemis.interactions_methods.model_specific.gb_trees" href="gb_trees/index.html">artemis.interactions_methods.model_specific.gb_trees</a></code></li>
<li><code><a title="artemis.interactions_methods.model_specific.random_forest" href="random_forest/index.html">artemis.interactions_methods.model_specific.random_forest</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod" href="#artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod">ConditionalMinimalDepthMethod</a></code></h4>
<ul class="">
<li><code><a title="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.fit" href="#artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.fit">fit</a></code></li>
<li><code><a title="artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.plot" href="#artemis.interactions_methods.model_specific.ConditionalMinimalDepthMethod.plot">plot</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="artemis.interactions_methods.model_specific.SplitScoreMethod" href="#artemis.interactions_methods.model_specific.SplitScoreMethod">SplitScoreMethod</a></code></h4>
<ul class="">
<li><code><a title="artemis.interactions_methods.model_specific.SplitScoreMethod.fit" href="#artemis.interactions_methods.model_specific.SplitScoreMethod.fit">fit</a></code></li>
<li><code><a title="artemis.interactions_methods.model_specific.SplitScoreMethod.plot" href="#artemis.interactions_methods.model_specific.SplitScoreMethod.plot">plot</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>